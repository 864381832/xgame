require=function i(c,r,s){function m(t,e){if(!r[t]){if(!c[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(l)return l(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var n=r[t]={exports:{}};c[t][0].call(n.exports,function(e){return m(c[t][1][e]||e)},n,n.exports,i,c,r,s)}return r[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)m(s[e]);return m}({AnimInAndOut:[function(e,t,o){"use strict";cc._RF.push(t,"0c73cXTEdFOEIiRT1cSAep1","AnimInAndOut"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onEnable:function(){this.node.opacity=0,this.node.setScale(0);var e=cc.fadeIn(.2),t=cc.scaleTo(.2,1);this.node.runAction(cc.spawn(e,t))},animateAndDestroy:function(){var e=this;if(!this.isDestroying){this.isDestroying=!0;var t=cc.fadeOut(.2),o=cc.scaleTo(.2,0),a=cc.callFunc(function(){e.node&&e.node.destroy()});this.node.runAction(cc.sequence(cc.spawn(t,o),a))}},animateAndDisable:function(){var e=this;if(!this.isDestroying){this.isDestroying=!0;var t=cc.fadeOut(.2),o=cc.scaleTo(.2,0),a=cc.callFunc(function(){e.node.active=!1});this.node.runAction(cc.sequence(cc.spawn(t,o),a))}}}),cc._RF.pop()},{}],AnimLayerTool:[function(e,t,o){"use strict";cc._RF.push(t,"dcf6e/4kv9KYrR4VIQPHtsC","AnimLayerTool");e("GameConfig"),e("GameTools");var a={moveButtonAnimTime:.3,backAnim:function(){cc.director.getScene().children[0].runAction(cc.sequence(cc.scaleBy(.05,.95),cc.scaleTo(.125,1)))},bottonAnim:function(e){},createShowMessageBox:function(e,t,o,a,n){},callFuncAddScore:function(e,t){e.destroy()},createClickAnim:function(e,t){var o=new cc.Node("m_click");o.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame("res/raw-assets/resources/atlas/pngs/m_click.png"),o.setAnchorPoint(0,1.3),o.setPosition(e.getPosition()),o.scaleX=t?1:-1,o.opacity=0,o.runAction(cc.sequence(cc.fadeIn(.3),cc.scaleBy(.3,1.2,1.2),cc.removeSelf())),e.getParent().addChild(o)},createPopStarAnim:function(e,t){var o=cc.callFunc(this.callFuncPopStarAnim,this,e);e.runAction(cc.sequence(cc.delayTime(t),o,cc.fadeOut()))},callFuncPopStarAnim:function(e,t){var o=new cc.Node;o.setPosition(t.getPosition());var a=o.addComponent(cc.ParticleSystem);switch(a.texture="res/raw-assets/resources/stars.png",t.number){case 0:a.startColor=cc.color(255,226,0);break;case 1:a.startColor=cc.color(235,110,165);break;default:a.startColor=cc.color(253,44,129)}a.startColorVar=cc.color(0,0,0,0),a.endColorVar=cc.color(0,0,0,0),a.endColor=a.startColor,a.autoRemoveOnFinish=!0,a.duration=.1,a.emissionRate=200,a.life=2,a.lifeVar=.5,a.angle=90,a.angleVar=360,a.custom=!0,a.playOnLoad=!0,t.getParent().addChild(o),t.active=!1}};t.exports=a,cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools"}],CardSprite:[function(e,t,o){"use strict";cc._RF.push(t,"a4ef50jralNeI7oo4DmKqQv","CardSprite");var i=cc.Class({extends:cc.Node,name:"CardSprite",properties:{cardSkeleton:null,sex:!0,number:0,locationIndex:0,isLeft:!0},ctor:function(){this.cardSkeleton=this.addComponent(sp.Skeleton)},statics:{createCardSprite:function(e,t,o,a){var n=new i;return n.initCard(e,t,o,a),n}},initCard:function(e,t,o,a){this.sex=e,this.number=t,this.isLeft=a,this.CardShow(),this.setLocationIndex(o)},CardShow:function(){var o=this,e=this.sex?"man":"woman";cc.loader.loadRes("animation/"+e+this.number+"/"+e+this.number+"_ske",sp.SkeletonData,function(e,t){o.cardSkeleton.skeletonData=t,o.cardSkeleton.animation="stand01"})},setLocationIndex:function(e){this.locationIndex=e,this.zIndex=6-e,0==this.locationIndex?(this.setScale(1),this.setPosition(0,-563)):1==this.locationIndex?(this.setScale(.9),this.setPosition(this.isLeft?-100:100,-478)):2==this.locationIndex?(this.setScale(.8),this.setPosition(this.isLeft?-148:148,-392)):3==this.locationIndex?(this.setScale(.7),this.setPosition(this.isLeft?-190:190,-300)):4==this.locationIndex?(this.setScale(.65),this.setPosition(this.isLeft?-214:214,-238)):5==this.locationIndex&&(this.setScale(.6),this.setPosition(this.isLeft?-248:248,-164))},setAnimation:function(e){0==e?this.cardSkeleton.animation="stand01":1==e?this.cardSkeleton.animation="stand02":2==e?this.cardSkeleton.animation="stand03":3==e?this.cardSkeleton.animation="pull01":4==e&&(this.cardSkeleton.animation="pull02")},setNumber:function(e){this.number=e,this.CardShow()},getNumber:function(){return this.number},isVisible:function(){return 255==this.opacity},setVisible:function(e){this.opacity=e?255:0}});t.exports=i,cc._RF.pop()},{}],GameCollisionDetection:[function(e,t,o){"use strict";cc._RF.push(t,"a8a5eGr4yBAfKPzLnPPMWDW","GameCollisionDetection");var a=e("GameConfig"),n=e("GameTools");cc.Class({extends:cc.Component,properties:{},onBeginContact:function(e,t,o){a.GameScene.addStaticPlayerNode(o.node,!0),n.playSimpleAudioEngine(0)},onEndContact:function(e,t,o){},onPreSolve:function(e,t,o){},onPostSolve:function(e,t,o){}}),cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools"}],GameConfig:[function(e,t,o){"use strict";cc._RF.push(t,"f937eblcKFPZItT3ZuvdIyg","GameConfig");t.exports={GameName:"泡泡时代",GameScene:null,DEVICE_WIDTH:750,DEVICE_HEIGHT:1334,MAIN_MENU_NUM:"Classic",GameIsHelp:!0,IS_GAME_MUSIC:!0,IS_GAME_SHARE:!1,IS_GAME_START:!1,IS_GAME_OVER:!1,IS_GAME_OVER_REVIVE:0},cc._RF.pop()},{}],GameData:[function(e,t,o){"use strict";cc._RF.push(t,"b044eYnpblIcZzFbTo9il3f","GameData");e("GameConfig"),e("GameTools");t.exports={GameSkinType:1,GameLevel:1,GameProgressMaxNumber:25,GameProgressHintNumber:0,GamePlayerNumber:30,GamePlayerAddGold:1,GameOffLineAddGold:1,GameStaticPlayerNumber:0,upgradeExpendGoldNumber0:25,upgradeExpendGoldNumber1:22.5,upgradeExpendGoldNumber2:22.5},cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools"}],GameMenu:[function(e,t,o){"use strict";cc._RF.push(t,"d3944ZUKEFGyIgqsUXkiyqw","GameMenu");var i=e("GameTools"),c=e("GameUiTools"),a=e("GameConfig"),r=e("GameData");e("AnimLayerTool");cc.Class({extends:cc.Component,properties:{upgradeMenu:[cc.Node],upgradeGetPropLabel:[cc.Label],upgradeExpendGoldLabel:[cc.Label],skinContent:cc.Node,playerSkinNode:cc.Node,skinUpgradeSprite:cc.Node},onLoad:function(){i.setItemByLocalStorage("playerSkin_1",1),this.setUpgradeMenu(),this.setSkinContent()},start:function(){},setUpgradeMenu:function(){this.setUpgradeMenuIsInteractable(),this.upgradeGetPropLabel[0].string=r.GamePlayerNumber+" 泡泡+1",this.upgradeGetPropLabel[1].string=i.getNumberString(1.25*r.GamePlayerAddGold)+"金/泡泡",this.upgradeGetPropLabel[2].string=i.getNumberString(1.92*r.GameOffLineAddGold)+"金/分钟 离线",this.upgradeExpendGoldLabel[0].string=i.getNumberString(r.upgradeExpendGoldNumber0),this.upgradeExpendGoldLabel[1].string=i.getNumberString(r.upgradeExpendGoldNumber1),this.upgradeExpendGoldLabel[2].string=i.getNumberString(r.upgradeExpendGoldNumber2)},setUpgradeMenuIsInteractable:function(){this.upgradeMenu[0].getComponent(cc.Button).interactable=i.getGameScore()>r.upgradeExpendGoldNumber0,this.upgradeMenu[1].getComponent(cc.Button).interactable=i.getGameScore()>r.upgradeExpendGoldNumber1,this.upgradeMenu[2].getComponent(cc.Button).interactable=i.getGameScore()>r.upgradeExpendGoldNumber2},upgradeMenuFunc0:function(){i.setItemByLocalStorage("GamePlayerNumber",++r.GamePlayerNumber),i.addGameScore(-r.upgradeExpendGoldNumber0),r.upgradeExpendGoldNumber0=Math.round(1.248*r.upgradeExpendGoldNumber0*10)/10,i.setItemByLocalStorage("upgradeExpendGoldNumber0",r.upgradeExpendGoldNumber0),a.GameScene.addPlayerNodePool(),a.GameScene.gameProgressComponent.setProgressLabel(),this.setUpgradeMenu()},upgradeMenuFunc1:function(){r.GamePlayerAddGold=Math.round(1.25*r.GamePlayerAddGold*10)/10,i.setItemByLocalStorage("GamePlayerAddGold",r.GamePlayerAddGold),i.addGameScore(-r.upgradeExpendGoldNumber1),r.upgradeExpendGoldNumber1=Math.round(1.47*r.upgradeExpendGoldNumber1*10)/10,i.setItemByLocalStorage("upgradeExpendGoldNumber1",r.upgradeExpendGoldNumber1),a.GameScene.gameProgressComponent.setProgressLabel(),this.setUpgradeMenu()},upgradeMenuFunc2:function(){r.GameOffLineAddGold=Math.round(1.28*r.GameOffLineAddGold*10)/10,i.setItemByLocalStorage("GameOffLineAddGold",r.GameOffLineAddGold),i.addGameScore(-r.upgradeExpendGoldNumber2),r.upgradeExpendGoldNumber2=Math.round(1.48*r.upgradeExpendGoldNumber2*10)/10,i.setItemByLocalStorage("upgradeExpendGoldNumber2",r.upgradeExpendGoldNumber2),a.GameScene.gameProgressComponent.setProgressLabel(),this.setUpgradeMenu()},setSkinContent:function(){for(var e=1;e<=30;e++){var t=e,o=cc.instantiate(this.playerSkinNode);o.active=!0,o.skinType=e;var a=o.getChildByName("playerSkin"),n=o.getChildByName("levelLabel");0!=i.getItemByLocalStorage("playerSkin_"+e,0)?(o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(cc.url.raw("resources/gameSkin/skin_back2.png")),a.active=!0,a.runAction(cc.rotateBy(5,360,360).repeatForever()),a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(cc.url.raw("resources/gameSkin/skin_"+t+".png")),n.active=!1):(o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(cc.url.raw("resources/gameSkin/skin_back.png")),a.active=!1,n.active=!0,n.getComponent(cc.Label).string="关卡"+t),r.GameSkinType==e&&(o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(cc.url.raw("resources/gameSkin/skin_select.png")),o.runAction(cc.sequence(cc.scaleTo(.5,1.1,1.1),cc.scaleTo(.5,1,1)).repeatForever())),c.setButtonClickEvents(this,o,"playerSkinNodeFunc",e,!1),this.skinContent.addChild(o,e,e)}},updateSkin:function(e){if(!(30<e)){var t=this.skinContent.getChildByTag(e);t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(cc.url.raw("resources/gameSkin/skin_back2.png"));var o=t.getChildByName("playerSkin"),a=t.getChildByName("levelLabel");o.active=!0,o.runAction(cc.rotateBy(5,360,360).repeatForever()),o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(cc.url.raw("resources/gameSkin/skin_"+e+".png")),a.active=!1}},playerSkinNodeFunc:function(e){var t=e.target;if(t.skinType!=r.GameSkinType&&0!=i.getItemByLocalStorage("playerSkin_"+t.skinType,0)){var o=this.skinContent.getChildByTag(r.GameSkinType);o.stopAllActions(),o.scale=1,o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(cc.url.raw("resources/gameSkin/skin_back2.png")),r.GameSkinType=t.skinType,i.setItemByLocalStorage("GameSkinType",r.GameSkinType),a.GameScene.updatePlayerSkin(),t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(cc.url.raw("resources/gameSkin/skin_select.png")),t.runAction(cc.sequence(cc.scaleTo(.5,1.1,1.1),cc.scaleTo(.5,1,1)).repeatForever())}},gameSkinFunc:function(){this.skinUpgradeSprite.active=!1},gameFriendFunc:function(){i.playSimpleAudioEngine(0),i.getRankData()}}),cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameOffLine:[function(e,t,o){"use strict";cc._RF.push(t,"b749eTfznZC7KITxd0l5m4v","GameOffLine");var a=e("GameConfig"),n=e("GameTools"),i=e("GameData"),c=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backColor:cc.Node,scoreLabel:cc.Label,getGoldButton:cc.Node,shareButton:cc.Node},onLoad:function(){var e=(new Date).getTime();this.minutes=Math.floor((e-n.getItemByLocalStorage("gameOffLineTime",e))/6e4),this.scoreLabel.string=n.getNumberString(this.minutes*i.GameOffLineAddGold),c.setButtonClickEvents(this,this.getGoldButton,"buttonFunc"),c.setButtonClickEvents(this,this.shareButton,"buttonFunc")},buttonFunc:function(e){var t=this,o=e.target;this.shareButton==o?(n.playSimpleAudioEngine(0),n.sharePicture("GameOffLine",function(){n.addGameScore(t.minutes*i.GameOffLineAddGold*5),a.GameScene.gameProgressComponent.setProgressLabel(),t.node.destroy()})):this.getGoldButton==o&&(n.playSimpleAudioEngine(0),n.addGameScore(this.minutes*i.GameOffLineAddGold),a.GameScene.gameProgressComponent.setProgressLabel(),this.node.destroy()),n.setItemByLocalStorage("gameOffLineTime",(new Date).getTime())}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameOverLose2:[function(e,t,o){"use strict";cc._RF.push(t,"5108c+zFT5LQYvvo294gHbn","GameOverLose2");var a=e("GameConfig"),n=e("GameTools"),i=e("GameData"),c=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backColor:cc.Node,scoreLabel:cc.Label,gameLevelLabel:cc.Label,videoAddGoldButton:cc.Node,restartButton:cc.Node},onLoad:function(){this.scoreLabel.string="+"+n.getNumberString(i.GameProgressHintNumber*i.GamePlayerAddGold),this.gameLevelLabel.string="第 "+(i.GameLevel+1)+" 关",c.setButtonClickEvents(this,this.videoAddGoldButton,"buttonFunc"),c.setButtonClickEvents(this,this.restartButton,"buttonFunc")},start:function(){n.submitScore(i.GameLevel)},buttonFunc:function(e){var t=e.target;this.videoAddGoldButton==t?(n.playSimpleAudioEngine(0),cc.log("看视频加金币"),n.addGameScore(i.GameProgressHintNumber*i.GamePlayerAddGold*9),this.videoAddGoldButton.getComponent(cc.Button).interactable=!1):this.restartButton==t&&(n.playSimpleAudioEngine(0),n.addGameScore(i.GameProgressHintNumber*i.GamePlayerAddGold),this.node.destroy(),a.GameScene.restartGame(!1))}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameOverLose:[function(e,t,o){"use strict";cc._RF.push(t,"9a0d1D1dQ1A6J12vob6FoVE","GameOverLose");var a=e("GameConfig"),n=e("GameTools"),i=e("GameData"),c=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backColor:cc.Node,scoreLabel:cc.Label,gameLevelLabel:cc.Label,videoButton:cc.Node,videoAddGoldButton:cc.Node,restartButton:cc.Node},onLoad:function(){this.scoreLabel.string="+"+n.getNumberString(i.GameProgressHintNumber*i.GamePlayerAddGold),this.gameLevelLabel.string="第 "+(i.GameLevel+1)+" 关",c.setButtonClickEvents(this,this.videoButton,"buttonFunc"),c.setButtonClickEvents(this,this.videoAddGoldButton,"buttonFunc"),c.setButtonClickEvents(this,this.restartButton,"buttonFunc")},start:function(){n.submitScore(i.GameLevel)},buttonFunc:function(e){var t=e.target;this.videoButton==t?(n.playSimpleAudioEngine(0),this.node.destroy(),a.IS_GAME_START=!0,cc.log("看视频复活")):this.videoAddGoldButton==t?(n.playSimpleAudioEngine(0),cc.log("看视频加金币"),n.addGameScore(i.GameProgressHintNumber*i.GamePlayerAddGold*9),this.videoAddGoldButton.getComponent(cc.Button).interactable=!1):this.restartButton==t&&(n.playSimpleAudioEngine(0),n.addGameScore(i.GameProgressHintNumber*i.GamePlayerAddGold),this.node.destroy(),a.GameScene.restartGame(!1))}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameOverWin:[function(e,t,o){"use strict";cc._RF.push(t,"30c85v2eHtF1ZuM0hobdFZg","GameOverWin");var a=e("GameConfig"),n=e("GameTools"),i=e("GameData"),c=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backColor:cc.Node,gameLevelLabel:cc.Label,restartButton:cc.Node,shareButton:cc.Node,rankButton:cc.Node,rankingScrollView:cc.Sprite},onLoad:function(){this.gameLevelLabel.string="第 "+(i.GameLevel+1)+" 关",this.isUpgrade=!1,i.GameProgressHintNumber>=i.GameProgressMaxNumber&&(i.GameLevel++,n.setItemByLocalStorage("GameLevel",i.GameLevel),n.setItemByLocalStorage("playerSkin_"+i.GameLevel,1),a.GameScene.gameMenuComponent.updateSkin(i.GameLevel),a.GameScene.gameMenuComponent.skinUpgradeSprite.active=!0,i.GameProgressMaxNumber+=5,n.setItemByLocalStorage("GameProgressMaxNumber",i.GameProgressMaxNumber),this.isUpgrade=!0),n.submitScore(i.GameLevel),cc.log("获取排行榜数据。"+a.MAIN_MENU_NUM),this.rankButton.getParent().active=!1,c.setButtonClickEvents(this,this.restartButton,"buttonFunc"),c.setButtonClickEvents(this,this.shareButton,"buttonFunc")},buttonFunc:function(e){var t=e.target;this.shareButton==t?(n.playSimpleAudioEngine(0),n.sharePicture()):this.restartButton==t&&(n.playSimpleAudioEngine(0),n.addGameScore(i.GameProgressHintNumber*i.GamePlayerAddGold),this.node.destroy(),a.GameScene.restartGame(this.isUpgrade))},_updateSubDomainCanvas:function(){0},update:function(){this._updateSubDomainCanvas()}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameOver:[function(e,t,o){"use strict";cc._RF.push(t,"dec8fHCKaxKIrsVoVxgLzJp","GameOver");var a=e("GameConfig"),n=e("GameTools"),i=e("GameData"),c=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backColor:cc.Node,scoreLabel:cc.Label,gameProgressHintNumberLabel:cc.Label,restartButton:cc.Node},onLoad:function(){this.scoreLabel.string=n.getNumberString(i.GameProgressHintNumber*i.GamePlayerAddGold),this.gameProgressHintNumberLabel.string=i.GameProgressHintNumber,this.isUpgrade=!1,i.GameProgressHintNumber>=i.GameProgressMaxNumber&&(i.GameLevel++,n.setItemByLocalStorage("GameLevel",i.GameLevel),n.setItemByLocalStorage("playerSkin_"+i.GameLevel,1),a.GameScene.gameMenuComponent.updateSkin(i.GameLevel),a.GameScene.gameMenuComponent.skinUpgradeSprite.active=!0,i.GameProgressMaxNumber+=5,n.setItemByLocalStorage("GameProgressMaxNumber",i.GameProgressMaxNumber),this.isUpgrade=!0),c.setButtonClickEvents(this,this.restartButton,"buttonFunc")},buttonFunc:function(e){e.target;n.playSimpleAudioEngine(0),n.addGameScore(i.GameProgressHintNumber*i.GamePlayerAddGold),this.node.destroy(),a.GameScene.restartGame(this.isUpgrade)}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameProgressNode:[function(e,t,o){"use strict";cc._RF.push(t,"b51c1PMbuRHWY73LNHJbjIN","GameProgressNode");var a=e("GameTools"),n=(e("GameUiTools"),e("GameConfig"),e("GameData"));e("AnimLayerTool");cc.Class({extends:cc.Component,properties:{masonryLabel:cc.Label,scoreLabel:cc.Label,progressHintLabel:cc.Label,progressMaxLabel:cc.Label,hintLabel:cc.Label,progressBar:cc.Node,progressHint:cc.Node},onLoad:function(){this.setProgressLabel(),this.setProgressBarSchedule()},start:function(){},setProgressLabel:function(){this.masonryLabel.string=a.getGameIntegral(),this.scoreLabel.string=a.getNumberString(a.getGameScore()),this.progressMaxLabel.string=n.GameProgressMaxNumber,this.hintLabel.string="炸开"+n.GameProgressMaxNumber+"个泡泡即可过关"},setProgressBarSchedule:function(){if(this.progressBar.color=n.GameProgressHintNumber<n.GameProgressMaxNumber/2?cc.Color.RED:cc.Color.GREEN,this.progressHintLabel.string=n.GameProgressHintNumber,n.GameProgressHintNumber<=n.GameProgressMaxNumber){var e=n.GameProgressHintNumber/n.GameProgressMaxNumber*604;this.progressBar.width=e,this.progressHint.x=e}}}),cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameScene:[function(e,t,o){"use strict";cc._RF.push(t,"b71benT1ABC0aPZ2HVTgCte","GameScene");var a=e("GameTools"),n=e("GameUiTools"),i=e("GameConfig"),c=e("GameData");e("AnimLayerTool");cc.Class({extends:cc.Component,properties:{layerBack:cc.Node,getGoldButton:cc.Node,gameProgressComponent:cc.Component,gameSceneNode:cc.Node,gameStaticSceneNode:cc.Node,gameMenuComponent:cc.Component,levelLabel:cc.Label,playerNode:cc.Node,staticPlayerNode:cc.Node,_playerNodePool:null,gunsight:cc.Node,levelLine:cc.Node,verticalLine:cc.Node,helpNode:cc.Node,helpLabel:cc.Node,upgradeParticle:cc.Node,upgradeLabel:cc.Node},ctor:function(){i.IS_GAME_START=!1,i.GameScene=this,cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0},onLoad:function(){i.GameIsHelp&&(this.helpNode.active=!0,this.helpLabel.active=!0,this.gunsight.active=!0,this.levelLine.active=!0,this.verticalLine.active=!0,this.helpNode.runAction(cc.sequence(cc.moveBy(2,500,0),cc.moveBy(2,-500,0)).repeatForever()),this.gunsight.runAction(cc.sequence(cc.moveBy(2,500,0),cc.moveBy(2,-500,0)).repeatForever()),this.verticalLine.runAction(cc.sequence(cc.moveBy(2,500,0),cc.moveBy(2,-500,0)).repeatForever()))},start:function(){this.startGame(),this.gameSceneNode.on(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this),this.gameSceneNode.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMoved,this),this.gameSceneNode.on(cc.Node.EventType.TOUCH_END,this.onTouchEnded,this),n.setButtonClickEvents(this,this.getGoldButton,"buttonFunc")},buttonFunc:function(e){e.target;a.playSimpleAudioEngine(0),n.loadingLayer("panel/GameShare")},onTouchBegan:function(e){if(i.IS_GAME_START){e.touch.getLocation();i.GameIsHelp&&(i.GameIsHelp=!1,this.helpNode.stopAllActions(),this.gunsight.stopAllActions(),this.verticalLine.stopAllActions(),this.helpNode.active=!1,this.helpLabel.active=!1),this.gunsight.active=!0,this.levelLine.active=!0,this.verticalLine.active=!0;var t=this.node.convertTouchToNodeSpaceAR(e.touch);this.gunsight.setPosition(t),this.levelLine.y=t.y,this.verticalLine.x=t.x}},onTouchMoved:function(e){if(i.IS_GAME_START){e.touch.getLocation();var t=this.node.convertTouchToNodeSpaceAR(e.touch);this.gunsight.setPosition(t),this.levelLine.y=t.y,this.verticalLine.x=t.x}},onTouchEnded:function(e){if(i.IS_GAME_START){this.gunsight.active=!1,this.levelLine.active=!1,this.verticalLine.active=!1;e.touch.getLocation();var t=new cc.Node;t.setPosition(this.gameSceneNode.convertTouchToNodeSpaceAR(e.touch)),t.color=cc.color(Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.floor(255*Math.random())),this.addStaticPlayerNode(t,!1),i.IS_GAME_START=!1}},startGame:function(){i.IS_GAME_START=!0,i.IS_GAME_OVER_REVIVE=0,this._playerNodePool=new cc.NodePool,this.playerNode.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("resources/gameSkin/skin_"+c.GameSkinType+".png"),this.staticPlayerNode.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("resources/gameSkin/skin_"+c.GameSkinType+".png");for(var e=0;e<c.GamePlayerNumber;e++)this.addPlayerNodePool();this.initNode(),this.initPlayerNode()},restartGame:function(e){e&&this.upgradeLabel.runAction(cc.sequence(cc.fadeIn(.5),cc.delayTime(1),cc.fadeOut(.5))),i.IS_GAME_START=!0,i.IS_GAME_OVER_REVIVE=0,this.initNode(),this.initPlayerNode()},addPlayerNodePool:function(){var e=cc.instantiate(this.playerNode);e.active=!0,e.runAction(cc.rotateBy(5,360,360).repeatForever()),e.isHide=!1,this._playerNodePool.put(e)},initNode:function(){this.levelLabel.string="第 "+(c.GameLevel+1)+" 关",c.GameProgressHintNumber=0,c.GameStaticPlayerNumber=0,this.gameProgressComponent.setProgressLabel(),this.gameProgressComponent.setProgressBarSchedule(),this.gameMenuComponent.setUpgradeMenuIsInteractable()},initPlayerNode:function(){for(var e=0;e<this.gameSceneNode.children.length;e++){var t=this.gameSceneNode.children[e];this.setPlayerStyle(t)}for(;0<this._playerNodePool.size();){var o=this._playerNodePool.get();o.isHide=!1,this.setPlayerStyle(o),this.gameSceneNode.addChild(o)}},setPlayerStyle:function(e){e.color=cc.color(Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.floor(255*Math.random())),e.setPosition(1e3*Math.random()-500,1e3*Math.random()-500);var t=e.getComponent(cc.RigidBody),o=360*Math.random()*Math.PI/180;t.linearVelocity=cc.v2(Math.cos(o),Math.sin(o)).mul(600)},updatePlayerSkin:function(){this.playerNode.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("resources/gameSkin/skin_"+c.GameSkinType+".png"),this.staticPlayerNode.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("resources/gameSkin/skin_"+c.GameSkinType+".png");for(var e=0;e<this.gameSceneNode.children.length;e++)this.gameSceneNode.children[e].getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("resources/gameSkin/skin_"+c.GameSkinType+".png");for(var t=new Array;0<this._playerNodePool.size();){var o=this._playerNodePool.get();o.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("resources/gameSkin/skin_"+c.GameSkinType+".png"),t.push(o)}for(;0<t.length;)this._playerNodePool.put(t.pop())},addStaticPlayerNode:function(e,t){if(!e.isHide){e.isHide=!0;var o=cc.instantiate(this.staticPlayerNode);o.active=!0,o.runAction(cc.rotateBy(5,360,360).repeatForever()),o.color=e.color,o.setPosition(e.getPosition()),t&&this._playerNodePool.put(e),c.GameProgressHintNumber++,this.gameProgressComponent.setProgressBarSchedule(),c.GameStaticPlayerNumber++,o.runAction(cc.sequence(cc.scaleTo(.3,4,4),cc.delayTime(.2),cc.scaleTo(1.2,0,0),cc.callFunc(function(){c.GameStaticPlayerNumber--,0==c.GameStaticPlayerNumber&&i.GameScene.gameOverScene()}),cc.removeSelf())),this.gameStaticSceneNode.addChild(o)}},gameOverScene:function(){c.GameProgressHintNumber>=c.GameProgressMaxNumber?n.loadingLayer("panel/GameOverWin"):0==i.IS_GAME_OVER_REVIVE?(i.IS_GAME_OVER_REVIVE++,n.loadingLayer("panel/GameOverLose")):c.GameProgressHintNumber>=c.GameProgressMaxNumber?n.loadingLayer("panel/GameOverWin"):n.loadingLayer("panel/GameOverLose2")}}),cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameShare:[function(e,t,o){"use strict";cc._RF.push(t,"a1644MHOrBLP6qzRQWZjJd9","GameShare");var a=e("GameConfig"),n=e("GameTools"),i=e("GameData"),c=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backColor:cc.Node,gamePlayerAddGoldLabel:cc.Label,gamePlayerNumberLabel:cc.Label,getGoldLabel:cc.Label,timeLabel:cc.Label,closeButton:cc.Node,shareButton:cc.Node},onLoad:function(){this.gamePlayerAddGoldLabel.string=n.getNumberString(i.GamePlayerAddGold),this.gamePlayerNumberLabel.string=i.GamePlayerNumber,this.getGoldLabel.string=n.getNumberString(i.GamePlayerAddGold*i.GamePlayerNumber*5),this.getGoldTime=n.getItemByLocalStorage("getGoldTime",0),c.setButtonClickEvents(this,this.closeButton,"buttonFunc"),this.updateTime(),this.schedule(this.updateTime,1)},buttonFunc:function(e){var t=e.target;this.shareButton==t||this.closeButton==t&&(n.playSimpleAudioEngine(0),this.node.destroy())},shareButtonFunc:function(){var e=this;n.playSimpleAudioEngine(0),n.sharePicture("GameShare",function(){n.addGameScore(i.GamePlayerAddGold*i.GamePlayerNumber*5),e.getGoldTime=(new Date).getTime(),n.setItemByLocalStorage("getGoldTime",e.getGoldTime),a.GameScene.gameProgressComponent.setProgressLabel(),e.shareButton.getComponent(cc.Button).interactable=!1})},updateTime:function(){if(3e5<(new Date).getTime()-this.getGoldTime)this.timeLabel.node.active=!1,this.shareButton.getComponent(cc.Button).interactable=!0;else{this.timeLabel.node.active=!0,this.shareButton.getComponent(cc.Button).interactable=!1;var e=this.getGoldTime+3e5-(new Date).getTime();e=parseInt(e/1e3),this.timeLabel.string=Math.floor(e/60%60)+":"+e%60+" 后可再次分享领奖"}}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameTools:[function(e,t,o){"use strict";cc._RF.push(t,"415acQw6oNBeo2WRVLPUaoS","GameTools");var a=e("GameConfig"),n={numberLabelAtlas:null,playSimpleAudioEngine:function(e){if(a.IS_GAME_MUSIC)switch(e){case 0:cc.audioEngine.play(cc.url.raw("resources/sounds/select.mp3"),!1,.5)}},getItemByLocalStorage:function(e,t){var o=cc.sys.localStorage.getItem(e);return null==o||""===o?(cc.sys.localStorage.setItem(e,t),t):"boolean"==typeof t?"boolean"==typeof o?o:"true"==o:"number"==typeof t?Number(o):o},setItemByLocalStorage:function(e,t){cc.sys.localStorage.setItem(e,t)},toastMessage:function(a){cc.loader.loadRes("panel/ShowMessage",function(e,t){if(!e){var o=cc.instantiate(t);o.getComponent(cc.Component).toastType=a,cc.director.getScene().getChildByName("Canvas").addChild(o)}})},showGameHelp:function(){},sharePicture:function(e,t){var o="快来跟我一起挑战"+a.GameName+"吧。";"shareTicket"==e&&(o="看看你在群里排第几？"),this.toastMessage(1),null!=t&&t(),cc.log("执行了截图"+o)},getGameIntegral:function(){return this.getItemByLocalStorage("GameIntegral",0)},setGameIntegral:function(e){cc.sys.localStorage.setItem("GameIntegral",e)},getGameScore:function(){return this.getItemByLocalStorage("GameScore",0)},addGameScore:function(e){this.setItemByLocalStorage("GameScore",this.getGameScore()+e)},getNumberString:function(e){return e<1e3?Math.round(e):e<1e6?(e/1e3).toFixed(2)+"K":e<1e9?(e/1e6).toFixed(2)+"m":e<1e12?(e/1e9).toFixed(2)+"b":e<1e15?(e/1e12).toFixed(2)+"t":e<1e18?(e/1e15).toFixed(2)+"q":e<1e21?(e/1e18).toFixed(2)+"Q":(e/1e18).toFixed(2)+"Q+"},commentGame:function(){this.toastMessage(1),cc.log("执行了评论")},checkFirstLoginGame:function(){var e=Math.floor(((new Date).getTime()-new Date(2018,3,18,0,0,0,0).getTime())/864e5);e>this.getItemByLocalStorage("FirstEnterGameDate",0)&&(cc.sys.localStorage.setItem("FirstEnterGameDate",e),this.setGameIntegral(this.getGameIntegral()+100),this.toastMessage(9))},getRankData:function(a){cc.loader.loadRes("panel/RankingListView",function(e,t){if(!e){var o=cc.instantiate(t);null!=a&&(o.getComponent(cc.Component).shareTicket=a),cc.director.getScene().children[0].addChild(o)}})},removeRankData:function(){cc.log("移除排行榜数据。")},submitScore:function(e){cc.log("提交得分:"+a.MAIN_MENU_NUM+" : "+e)}};t.exports=n,cc._RF.pop()},{GameConfig:"GameConfig"}],GameUiTools:[function(e,t,o){"use strict";cc._RF.push(t,"6633adSwotPR4cUtDy9WXUH","GameUiTools");e("GameConfig"),e("GameTools");var a={getSpriteFrame:function(e){return new cc.SpriteFrame(cc.url.raw(e))},newSprite:function(e,t){},setNodeSpriteFrame:function(e,t){},setButtonClickEvents:function(e,t,o,a,n){var i=new Array;null==t.length?i[0]=t:i=t;for(var c=0;c<i.length;c++){var r=new cc.Component.EventHandler;r.target=e.node,r.component=e.node.name,r.handler=o,null==t.length?r.customEventData=a:r.customEventData=c;var s=i[c].addComponent(cc.Button);s.clickEvents.push(r),(null==n||n)&&(s.transition=cc.Button.Transition.SCALE,s.duration=.1,s.zoomScale=1.2)}},scheduleOnce:function(e,t,o){e.runAction(cc.sequence(cc.delayTime(o),cc.callFunc(t,e)))},loadingScene:function(a,e){e?cc.loader.loadRes("panel/LoadingLayer",function(e,t){var o=cc.instantiate(t);cc.director.getScene().children[0].addChild(o),cc.director.preloadScene(a,function(){cc.director.loadScene(a)})}):cc.director.preloadScene(a,function(){cc.director.loadScene(a)})},loadingLayer:function(e){cc.loader.loadRes(e,function(e,t){if(!e){var o=cc.instantiate(t);cc.director.getScene().children[0].addChild(o)}})}};t.exports=a,cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools"}],LoadingScene:[function(e,t,o){"use strict";cc._RF.push(t,"fa66dpbqYROFqRT9GK3/WP2","LoadingScene");var a=e("GameTools"),n=e("GameUiTools"),i=(e("GameConfig"),e("GameData"));cc.Class({extends:cc.Component,properties:{},start:function(){var e=this;setTimeout(function(){e.loadingResource()},10)},loadingResource:function(){i.GameSkinType=a.getItemByLocalStorage("GameSkinType",1),i.GameLevel=a.getItemByLocalStorage("GameLevel",1),i.GameProgressMaxNumber=a.getItemByLocalStorage("GameProgressMaxNumber",25),i.GamePlayerNumber=a.getItemByLocalStorage("GamePlayerNumber",30),i.GamePlayerAddGold=a.getItemByLocalStorage("GamePlayerAddGold",1),i.GameOffLineAddGold=a.getItemByLocalStorage("GameOffLineAddGold",1),i.upgradeExpendGoldNumber0=a.getItemByLocalStorage("upgradeExpendGoldNumber0",25),i.upgradeExpendGoldNumber1=a.getItemByLocalStorage("upgradeExpendGoldNumber1",22.5),i.upgradeExpendGoldNumber2=a.getItemByLocalStorage("upgradeExpendGoldNumber2",22.5),this.initFrameCache(),this.initWxSetting(),cc.director.preloadScene("GameScene",function(){cc.director.loadScene("GameScene")})},initFrameCache:function(){},initWxSetting:function(){setTimeout(function(){n.loadingLayer("panel/GameOffLine")},1e3)}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],MenuUI:[function(e,t,o){"use strict";cc._RF.push(t,"5c2b5VzgPNHI4Chk6xcuhIS","MenuUI");var a=e("GameTools"),n=e("GameUiTools");e("GameConfig"),e("AnimLayerTool");cc.Class({extends:cc.Component,properties:{layerBack:cc.Node,startGameButton:cc.Node,shareButton:cc.Node},onLoad:function(){n.setButtonClickEvents(this,this.startGameButton,"startGameButtonFunc"),n.setButtonClickEvents(this,this.shareButton,"shareButtonFunc")},start:function(){},startGameButtonFunc:function(e,t){a.playSimpleAudioEngine(0),this.loadingResource()},shareButtonFunc:function(e){a.playSimpleAudioEngine(0),setTimeout(function(){a.sharePicture()},100)},loadingResource:function(){cc.director.loadScene("GameScene")},onDestroy:function(){}}),cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools"}],RankingListView:[function(e,t,o){"use strict";cc._RF.push(t,"31b56tJWjpPlrcCAXTwiyUM","RankingListView");var a=e("GameConfig"),n=e("AnimLayerTool"),i=e("GameTools"),c=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backButton:cc.Node,shareButton:cc.Node,rankingScrollView:cc.Sprite,shareTicket:null},onLoad:function(){this.showAnimation(!0)},start:function(){c.setButtonClickEvents(this,this.backButton,"backButtonFunc"),c.setButtonClickEvents(this,this.shareButton,"shareButtonFunc");var e=new cc.Node;e.addComponent(cc.Label).string="暂无排行榜数据",this.node.addChild(e),cc.log("获取排行榜数据。"+a.MAIN_MENU_NUM)},shareButtonFunc:function(e){i.playSimpleAudioEngine(4),setTimeout(function(){i.sharePicture("shareTicket")},100)},backButtonFunc:function(e){i.playSimpleAudioEngine(0),i.removeRankData(),this.node.destroy()},_updateSubDomainCanvas:function(){0},update:function(){this._updateSubDomainCanvas()},showAnimation:function(e){e&&(n.bottonAnim(this.backButton),n.bottonAnim(this.shareButton))}}),cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools"}]},{},["AnimLayerTool","CardSprite","GameCollisionDetection","GameConfig","GameData","GameScene","GameTools","GameUiTools","LoadingScene","MenuUI","AnimInAndOut","GameMenu","GameOffLine","GameOver","GameOverLose","GameOverLose2","GameOverWin","GameProgressNode","GameShare","RankingListView"]);