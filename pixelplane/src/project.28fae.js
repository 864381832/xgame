require=function n(c,a,r){function l(t,e){if(!a[t]){if(!c[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(h)return h(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var s=a[t]={exports:{}};c[t][0].call(s.exports,function(e){return l(c[t][1][e]||e)},s,s.exports,n,c,a,r)}return a[t].exports}for(var h="function"==typeof require&&require,e=0;e<r.length;e++)l(r[e]);return l}({AudioMgr:[function(e,t,o){"use strict";cc._RF.push(t,"c086cALTtBBnqOIqjZefy9K","AudioMgr"),cc.Class({extends:cc.Component,properties:{bgmVolume:1,sfxVolume:1,bgmAudioID:-1,pauseflag:[]},init:function(){var e;null!=(e=cc.sys.localStorage.getItem("bgmVolume"))&&(this.bgmVolume=parseFloat(e)),null!=(e=cc.sys.localStorage.getItem("sfxVolume"))&&(this.sfxVolume=parseFloat(e)),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("cc.audioEngine.pauseAll"),cc.audioEngine.pauseAll()}),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("cc.audioEngine.resumeAll"),cc.audioEngine.resumeAll()})},getUrl:function(e){return cc.url.raw("resources/Plane/sounds/"+e)},playBGM:function(e){var t=this.getUrl(e);0<=this.bgmAudioID&&(console.log("stop"),cc.audioEngine.stop(this.bgmAudioID)),this.bgmAudioID=cc.audioEngine.play(t,!0,this.bgmVolume)},playSFX:function(e){console.log("test",e);var t=this.getUrl(e);cc.audioEngine.play(t,!1,.5)},setSFXVolume:function(e){this.sfxVolume!=e&&(cc.sys.localStorage.setItem("sfxVolume",e),this.sfxVolume=e)},setBGMVolume:function(e,t){0<=this.bgmAudioID&&(0<e?cc.audioEngine.resume(this.bgmAudioID):cc.audioEngine.pause(this.bgmAudioID)),(this.bgmVolume!=e||t)&&(cc.sys.localStorage.setItem("bgmVolume",e),this.bgmVolume=e,cc.audioEngine.setVolume(this.bgmAudioID,e))},pauseAll:function(){cc.audioEngine.pauseAll(),this.pauseflag.push(1)},resumeAll:function(){this.pauseflag.shift(),this.pauseflag.length||cc.audioEngine.resumeAll()}}),cc._RF.pop()},{}],MissileControl:[function(e,t,o){"use strict";cc._RF.push(t,"33407LoE85GdLHuYPEXpVTJ","MissileControl"),cc.Class({extends:cc.Component,properties:{_heroNode:null,_hero_speed:3,_time:0,_isdestroy:!1},start:function(){this._time=20,cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(e){"Missile"!=e.node.name?cc.director.getScene().getChildByName("Canvas").emit("Collision_push",{other:e,target:this.node}):cc.director.getScene().getChildByName("Canvas").emit("Missile_push",{other:e,target:this.node}),this.onBlast()},onBlast:function(){var e=this;if(!this._isdestroy){this._isdestroy=!0,this.node.getChildByName("Missile").active=!1;var t=this.node.getChildByName("blast");t.active=!0,t.getComponent(cc.Animation).play("blast"),cc.vv.audioMgr.playSFX("blast.wav"),t.getComponent(cc.Animation).on("finished",function(){e.node.removeFromParent(),e.node.destroy()})}},update:function(e){if(!this._isdestroy){cc.vv.isGameOver&&(this._time=0);var t=this._heroNode.getPosition();t=this._heroNode.parent.convertToWorldSpaceAR(t);var o=this.node.getPosition();o=this.node.parent.convertToWorldSpaceAR(o);var i=90-Math.atan2(t.y-o.y,t.x-o.x)*(180/Math.PI),s=Math.sqrt(Math.pow(t.x-o.x,2)+Math.pow(t.y-o.y,2));i-=this.node.rotation,180<Math.abs(i)&&(i=0<i?i-360:i+360);var n=Math.abs(i);if(n<3);else{var c=2,a=0<i?1:-1;80<n&&(c=10),this.node.rotation+=c*a*e*60}var r=this._hero_speed;r=(r+=640<s?50:600<s?3:500<s?2.5:300<s?2:200<s?1.5:100<s?1:.5)*e*100;var l=-Math.PI/180*(this.node.rotation+90),h=o.x-Math.cos(l)*r,d=o.y-Math.sin(l)*r;return o=this.node.parent.convertToNodeSpaceAR(cc.p(h,d)),this.node.setPosition(o),this._time-=e,this._time<=0?(this.onBlast(),void(this._isdestroy=!0)):void 0}}}),cc._RF.pop()},{}],PlaneGame_Load:[function(e,t,o){"use strict";cc._RF.push(t,"e1f92vKp3VH/5bNFF6NwA0N","PlaneGame_Load"),cc.Class({extends:cc.Component,properties:{tipLabel:cc.Label,_stateStr:"",_progress:0,_isLoading:!1,prg:cc.ProgressBar},onLoad:function(){this.tipLabel.string=this._stateStr,this.prg.progress=0,this.prg.node.active=!1},start:function(){this.startPreloading()},startPreloading:function(){this._stateStr="正在加载资源，请稍候",this._isLoading=!0;var i=this;this.prg.node.active=!0;cc.loader.loadResDir("/",function(e,t,o){i._progress=e/t,i._stateStr="资源加载中..."+e+"/"+t},function(e,t){i.onLoadComplete()})},onLoadComplete:function(){this._stateStr="加载完成",cc.director.loadScene("Plane_start")},update:function(e){if(0!=this._stateStr.length)if(this.tipLabel.string=this._stateStr+" ",this._isLoading)this.prg.progress=this._progress;else for(var t=Math.floor(Date.now()/1e3)%4,o=0;o<t;++o)this.tipLabel.string+="."}}),cc._RF.pop()},{}],PlaneGame_Main:[function(e,t,o){"use strict";function r(e,t){return Math.floor(Math.random()*(t-e+1)+e)}cc._RF.push(t,"a7855Qml3JGBbYccxlj5kSJ","PlaneGame_Main"),cc.Class({extends:cc.Component,properties:{MissilePrefab:cc.Prefab,starPrefab:cc.Prefab,_hero:null,_hero_plane:"",_stickPos:null,_stickPos_py:null,_hero_Pos:null,_hero_rotate:0,_stick:null,_cloundNode:null,_cloundNode_bg:null,_gameOverNode:null,_gamerevive:null,_starNode:null,_gold_lbl:null,_gold:0,_bestscorenum:null,_scorenum:null,_fuhuoscore:null,_fuhuogold:null,_cloudSpriteFrames:null,_loadcount:0,_hero_speed:1,_missileNodes:null,_hero_isRotate:!1,_createMissileTime:0,_isreset:!1,_isafetime:5,_imissilecount:0,_imissilecountlbl:null,gamerank:cc.Sprite},start:function(){cc.vv.isGameOver=!0;var i=this;this._hero_speed=5,cc.vv.cloudSpriteFrames?(i._cloudSpriteFrames=cc.vv.cloudSpriteFrames,i._loadcount++):cc.loader.loadResDir("Plane/Texture/main/cloud",cc.SpriteFrame,function(e,t){e&&(console.log("Loading resource fail."),cc.director.loadScene("Plane_start")),i._cloudSpriteFrames=t,i._loadcount++,2<=i._loadcount&&i.begin()}),null!=window.wx&&(this.tex=new cc.Texture2D,window.sharedCanvas.width=720,window.sharedCanvas.height=1280,wx.showShareMenu({withShareTicket:!0}),wx.updateShareMenu({withShareTicket:!0})),cc.vv.usePlane?this._hero_plane=cc.vv.usePlane:this._hero_plane="planeA1",console.log(this._hero_plane),cc.loader.loadRes("Plane/prefab/"+this._hero_plane,function(e,t){e&&(console.log("Loading resource fail."),cc.director.loadScene("Plane_start"));var o=cc.instantiate(t);o.parent=cc.find("Canvas/plane"),i._hero=o,i._hero.active=!1,i._loadcount++,2<=i._loadcount&&i.begin()})},begin:function(){var t=this;cc.find("Canvas/l_loading").active=!1,t._cloundNode=cc.find("Canvas/cloud"),t._cloundNode_bg=cc.find("Canvas/cloud_bg"),t._cloundNode_bg.active=!0,t._starNode=cc.find("Canvas/star"),t._gold_lbl=cc.find("Canvas/l_gold").getComponent(cc.Label),t._imissilecountlbl=cc.find("Canvas/l_missile").getComponent(cc.Label),t._bestscorenum=cc.find("Canvas/gameover/bestscorenum").getComponent(cc.Label),t._scorenum=cc.find("Canvas/gameover/scorenum").getComponent(cc.Label),t._missileNode=cc.find("Canvas/Missile"),t._gameOverNode=cc.find("Canvas/gameover"),t._gameOverNode.active=!1,t._fuhuoscore=cc.find("Canvas/gamerevive/scorenum").getComponent(cc.Label),t._fuhuogold=cc.find("Canvas/gamerevive/goldnum").getComponent(cc.Label),t._gamerevive=cc.find("Canvas/gamerevive"),t._gamerevive.active=!1,t._hero.active=!0,t._hero_Pos=t.node.convertToWorldSpaceAR(cc.p(0,0)),t._stickPos=t.node.convertToWorldSpaceAR(cc.p(0,35)),t._stickPos_py=cc.p(0,0),t._stick=cc.find("stick"),t._stick.active=!0,t._stick.setPosition(t._stickPos),t.initHandler(),t.createCloud(),this.node.on("Gold_push",function(e){t._gold++,t._gold_lbl.string=t._gold,cc.vv.audioMgr.playSFX("gold.wav")}),this.node.on("Collision_push",function(e){cc.vv.isGameOver=!0,t._gamerevive.active=!0,t._fuhuoscore.string=t._imissilecount,t._fuhuogold.string=cc.vv.golds}),this.node.on("Missile_push",function(e){t._imissilecount++,t._imissilecountlbl.string=t._imissilecount}),cc.vv.isGameOver=!1},onrestart:function(){var e=this;e._gamerevive.active=!1,cc.vv.isGameOver=!1,e._gameOver=!1,e._gameOverNode.active=!1,e._hero.active=!0,e._stick.active=!0,e._imissilecount=0,e._gold=0,e._gold_lbl.string=e._gold,e._imissilecountlbl.string=e._imissilecount},onfuhuo:function(){cc.vv.golds=cc.vv.golds-10,this._gamerevive.active=!1,cc.vv.isGameOver=!1,cc.sys.localStorage.setItem("golds",cc.vv.golds)},onGameOver:function(){var e=this;if(e._gamerevive.active=!1,cc.vv.isGameOver=!0,e._gameOver=!0,e._gameOverNode.active=!0,e._hero.active=!1,e._stick.active=!1,cc.vv.audioMgr.playSFX("lose.mp3"),cc.vv.golds+=parseInt(e._gold),e._bestscorenum.string=cc.vv.missilecount,e._scorenum.string=e._imissilecount,null!=window.wx?window.wx.postMessage({messageType:4,MAIN_MENU_NUM:"x1"}):cc.log("获取横向展示排行榜数据。x1"),cc.vv.missilecount<parseInt(e._imissilecount)){cc.vv.missilecount=parseInt(e._imissilecount),cc.sys.localStorage.setItem("missilecount",cc.vv.missilecount);var t=cc.vv.missilecount;null!=window.wx?window.wx.postMessage({messageType:3,MAIN_MENU_NUM:"x1",score:t}):cc.log("提交得分得分"+t)}cc.sys.localStorage.setItem("golds",cc.vv.golds)},test:function(e){var t=cc.instantiate(this.MissilePrefab);t.parent=this._missileNode,t.active=!0,e=270-e;var o=Math.PI/180*e,i=this._hero.parent.getPosition(),s=(i=this._hero.parent.parent.convertToWorldSpaceAR(i)).x+88*Math.cos(o),n=i.y+88*Math.sin(o);console.log(i),console.log(cc.p(s,n)),i=this._missileNode.convertToNodeSpaceAR(cc.p(s,n)),t.setPosition(i)},onBackClick:function(){cc.director.loadScene("Plane_start")},onShareClick:function(){null!=window.wx&&wx.updateShareMenu({withShareTicket:!0,success:function(){wx.shareAppMessage({title:"大吉大利今晚打飞机",query:"",imageUrl:canvas.toTempFilePathSync({x:10,y:10,width:cc.game.canvas.width,height:cc.game.canvas.height,destWidth:cc.game.canvas.width,destHeight:cc.game.canvas.height}),success:function(e){console.log("转发成功")},fail:function(e){console.log("转发失败")}})}})},onChoosePlane:function(){cc.vv.chooseplane=!0,this.onBackClick()},createMissile:function(){if(!(8<this._missileNode.childrenCount||0<this._createMissileTime||this._gameOver)){this._createMissileTime=r(10,20)/10;var e=cc.instantiate(this.MissilePrefab);e.parent=this._missileNode,e.active=!0,e.rotation=this._hero.rotation;var t=270-r(this._hero.rotation-30,this._hero.rotation+30),o=Math.PI/180*t,i=this._hero.parent.getPosition();i=this._hero.parent.parent.convertToWorldSpaceAR(i);var s=r(700,900),n=i.x+Math.cos(o)*s,c=i.y+Math.sin(o)*s;i=this._missileNode.convertToNodeSpaceAR(cc.p(n,c)),e.setPosition(i);var a=e.getComponent("MissileControl");a._heroNode=this._hero.parent,a._hero_speed=this._hero_speed}},createStar:function(){if(!(1<this._starNode.childrenCount||this._gameOver)){var e=cc.instantiate(this.starPrefab);e.parent=this._starNode,e.active=!0;var t=-Math.PI/180*(r(0,359)+90),o=this._hero.parent.getPosition(),i=(o=this._hero.parent.parent.convertToWorldSpaceAR(o)).x+Math.cos(t)*r(200,500),s=o.y+Math.sin(t)*r(200,500);o=this.node.convertToNodeSpaceAR(cc.p(i,s)),e.setPosition(o),e.getComponent("star")._heroNode=this._hero.parent}},createCloud:function(){this._cloundNode.width=10800,this._cloundNode.height=12800,this._cloundNode.setPosition(cc.p(0,0));for(var e=-this._cloundNode.width/2,t=-this._cloundNode.height/2,o=0;o<20;o++)for(var i=0;i<15;i++){var s=new cc.Node("cloudnode"+o*i),n=s.addComponent(cc.Sprite),c=r(0,this._cloudSpriteFrames.length-1);n.spriteFrame=this._cloudSpriteFrames[c],s.parent=this._cloundNode,s.setPosition(r(e+540*o,e+540*(o+1)),r(t+800*i,t+800*(i+1)))}},initHandler:function(){this.node.on("touchstart",this.onTouchStart,this),this.node.on("touchmove",this.onTouchMove,this)},onTouchStart:function(e){var t=e.getLocation();this._stickPos_py.x=t.x-this._stickPos.x,this._stickPos_py.y=t.y-this._stickPos.y},onTouchMove:function(e){var t=e.getLocation();t.x-=this._stickPos_py.x,t.y-=this._stickPos_py.y;60<this.getDistance(t,this._hero_Pos)&&(t.x=this._hero_Pos.x+60*Math.cos(this._getRadian(t)),t.y=this._hero_Pos.y+60*Math.sin(this._getRadian(t))),this._stickPos=t,this._stick.setPosition(this._stickPos),this._hero_rotate=90-this._getAngle(this._hero_Pos,t),this._stick.rotation=this._hero_rotate;this._hero_rotate,this._hero.rotation},getDistance:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},_getRadian:function(e){return Math.PI/180*this._getAngle(this._hero_Pos,e)},_getAngle:function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*(180/Math.PI)},moveCloud:function(e){var t=-Math.PI/180*(this._hero.rotation+90),o=this._cloundNode_bg.getPosition(),i=o.x-Math.cos(t)*(this._hero_speed-.5),s=o.y-Math.sin(t)*(this._hero_speed-.5);this._cloundNode_bg.setPosition(cc.p(i,s))},_updateSubDomainCanvas:function(){null!=window.sharedCanvas&&(this.tex.initWithElement(window.sharedCanvas),this.tex.handleLoadedTexture(),this.gamerank.spriteFrame=new cc.SpriteFrame(this.tex))},update:function(e){var o=this;if(this._updateSubDomainCanvas(),!cc.vv.isGameOver){this._createMissileTime-=e,this._isafetime-=e;var t=this._hero_rotate-this._hero.rotation,i=this._hero_speed;if(3<Math.abs(t)&&360!=Math.abs(t)){180<Math.abs(t)&&(t=-Math.abs(t)/t*(360-Math.abs(t))),310<Math.abs(t)?this._hero.rotation=this._hero_rotate:this._hero.rotation+=15<Math.abs(t)?Math.abs(t)/t*15:t,0==this._hero_isRotate&&(this._hero_isRotate=!0,this._hero.runAction(cc.scaleTo(.1,.8,1))),i+=3}else this._hero_isRotate&&(this._hero_isRotate=!1,this._hero.runAction(cc.scaleTo(.1,1,1)));i=i*e*100;var s=this._hero.parent.getPosition(),n=-Math.PI/180*(this._hero.rotation+90),c=s.x-Math.cos(n)*i,a=s.y-Math.sin(n)*i;s=cc.p(c,a),this._hero.parent.setPosition(s),this._isreset||this._cloundNode.getBoundingBoxToWorld().contains(this._hero.parent.parent.convertToWorldSpaceAR(s))||(this._isreset=!0,this._cloundNode.runAction(cc.sequence(cc.fadeTo(1.5,0),cc.callFunc(function(){var e=o._hero.parent.getPosition();o._cloundNode.setPosition(e);var t=o._cloundNode_bg.convertToNodeSpaceAR(o._hero.parent.parent.convertToWorldSpaceAR(e));o._cloundNode_bg.setPosition(cc.p(e.x-t.x%720,e.y-t.y%1280)),o._cloundNode.runAction(cc.fadeTo(2,255)),o._isreset=!1})))),this.moveCloud(),this._isafetime<=0&&(this.createMissile(),this._isafetime=0),this.createStar()}}}),cc._RF.pop()},{}],PlaneGame_Start:[function(s,e,t){"use strict";cc._RF.push(e,"618960P0O1CM4/MzfX6Ftme","PlaneGame_Start");var c=["A1","A2","A3","A4","A5","B1","B2","B3","B4","B5","C1","C2","C3","C4","C5"],a=[0,50,100,150,200,250,300,350,400,500,600,700,800,900,1e3];cc.Class({extends:cc.Component,properties:{_chooseUI:null,_rankUI:null,_teachingUI:null,_chooseItems:null,_scrollview:null,_gold_lbl:null,_nogold:null,rank:cc.Sprite},start:function(){if(!cc.vv){cc.vv={};var e=s("AudioMgr");cc.vv.audioMgr=new e,cc.vv.audioMgr.init(),cc.vv.golds=cc.sys.localStorage.getItem("golds"),cc.vv.missilecount=cc.sys.localStorage.getItem("missilecount"),cc.vv.missilecount?cc.vv.missilecount=parseInt(cc.vv.missilecount):cc.vv.missilecount=0,null==cc.vv.golds&&(cc.vv.golds=100);var t=cc.sys.localStorage.getItem("planes");if(null==t)cc.vv.myplanes=["A1"];else try{cc.vv.myplanes=JSON.parse(t)}catch(e){cc.vv.myplanes=["A1"]}cc.vv.golds=parseInt(cc.vv.golds)}if(null!=window.wx&&(window.wx.showShareMenu({withShareTicket:!0}),this.tex=new cc.Texture2D,window.sharedCanvas.width=720,window.sharedCanvas.height=1280,window.wx.postMessage({messageType:1,MAIN_MENU_NUM:"x1"}),wx.showShareMenu({withShareTicket:!0}),wx.updateShareMenu({withShareTicket:!0}),wx.onShareAppMessage(function(){return{title:"大吉大利今晚打飞机",query:"",imageUrl:canvas.toTempFilePathSync({x:10,y:10,width:cc.game.canvas.width,height:cc.game.canvas.height,destWidth:cc.game.canvas.width,destHeight:cc.game.canvas.height}),success:function(e){console.log("转发成功")},fail:function(e){console.log("转发失败")}}})),cc.sys.isBrowser){var o=this.node.getComponent(cc.Canvas);o.fitHeight=!1,o.fitWidth=!0;var i=cc.director.getWinSize();this.node.height=i.height,this.node.width=i.width}this._rankUI=cc.find("Canvas/ranknode"),this._teachingUI=cc.find("Canvas/teachingnode"),this._chooseUI=cc.find("Canvas/choosenode"),this._scrollview=cc.find("Canvas/choosenode/ScrollView").getComponent(cc.ScrollView),this._chooseItems=cc.find("Canvas/choosenode/ScrollView/view/content/l_planes"),this._gold_lbl=cc.find("Canvas/choosenode/gold/l_goldnum").getComponent(cc.Label),this._gold_lbl.string=cc.vv.golds,this._nogold=cc.find("Canvas/choosenode/s_nogold"),this._nogold.active=!1,cc.find("Canvas/l_missile").getComponent(cc.Label).string=cc.vv.missilecount,cc.find("Canvas/l_gold").getComponent(cc.Label).string=cc.vv.golds,cc.vv.chooseplane?this.onOpenChooseUI():this.onCloseChooseUI(),cc.vv.planesSpriteFrames||cc.loader.loadResDir("Plane/Texture/main/planes",cc.SpriteFrame,function(e,t){e?console.log("Loading resource fail."):cc.vv.planesSpriteFrames=t}),cc.vv.cloudSpriteFrames||cc.loader.loadResDir("Plane/Texture/main/cloud",cc.SpriteFrame,function(e,t){e?console.log("Loading resource fail."):cc.vv.cloudSpriteFrames=t}),cc.vv.audioMgr.playBGM("LianGameBg.mp3")},onCloseRankUI:function(){cc.vv.isRank=!1,this._rankUI.active=!1},onGroupRank:function(){null!=window.wx?window.wx.shareAppMessage({success:function(e){null!=e.shareTickets&&0<e.shareTickets.length&&window.wx.postMessage({messageType:5,MAIN_MENU_NUM:"x1",shareTicket:e.shareTickets[0]})}}):cc.log("获取群排行榜数据。x1")},onOpenRankUI:function(){cc.vv.isRank=!0,this._rankUI.active=!0,this._rankUI.getComponent(cc.Animation).play("openUI"),null!=window.wx?window.wx.postMessage({messageType:1,MAIN_MENU_NUM:"x1"}):cc.log("获取好友排行榜数据。x1")},onCloseTeachingUI:function(){this._teachingUI.active=!1},onOpenTeachingUI:function(){this._teachingUI.active=!0,this._teachingUI.getComponent(cc.Animation).play("openUI"),this._teachingUI.getComponent(cc.Animation).on("finished",function(){cc.find("Canvas/teachingnode/bg").getComponent(cc.Sprite).node.on(cc.Node.EventType.TOUCH_START,function(e){cc.director.loadScene("Plane_Main")})})},onShareClick:function(){null!=window.wx&&wx.updateShareMenu({withShareTicket:!0,success:function(){wx.shareAppMessage({title:"大吉大利今晚打飞机",query:"",imageUrl:canvas.toTempFilePathSync({x:10,y:10,width:cc.game.canvas.width,height:cc.game.canvas.height,destWidth:cc.game.canvas.width,destHeight:cc.game.canvas.height}),success:function(e){console.log("转发成功")},fail:function(e){console.log("转发失败")}})}})},onCloseChooseUI:function(){this._chooseUI.active=!1},onOpenChooseUI:function(){cc.vv.chooseplane=!1,this.initPlanItem(cc.vv.myplanes),this._chooseUI.active=!0,this._chooseUI.getComponent(cc.Animation).play("openUI");var e=this;this._chooseUI.getComponent(cc.Animation).on("finished",function(){e._scrollview.scrollToTop(.1)})},onStart:function(){this.onOpenTeachingUI()},onChoosePlane:function(e){cc.vv.myplanes.indexOf(e.target.name)<0?this.onBuyPlane(e):(this.showChooseFlag(cc.vv.usePlane,!1),cc.vv.usePlane="plane"+e.target.name,this.showChooseFlag(cc.vv.usePlane,!0))},onBuyPlane:function(e){var t=a[c.indexOf(e.target.name)];if(cc.vv.golds<t){this._nogold.scale=.5,this._nogold.active=!0,cc.vv.audioMgr.playSFX("error.mp3");var o=this;this._nogold.runAction(cc.sequence(cc.scaleTo(.05,1),cc.delayTime(.5),cc.callFunc(function(){o._nogold.active=!1})))}else{cc.vv.golds-=parseInt(t),cc.sys.localStorage.setItem("golds",cc.vv.golds),cc.vv.myplanes.push(e.target.name),cc.sys.localStorage.setItem("planes",JSON.stringify(cc.vv.myplanes)),this._gold_lbl.string=cc.vv.golds;var i=e.target,s=i.getChildByName("s_bg");s=s.getChildByName("s_icon");var n=this.getItemByName(cc.vv.planesSpriteFrames,i.name);(s=s.getComponent(cc.Sprite)).spriteFrame=n}},initPlanItem:function(){for(var e=0;e<15;e++){var t=this._chooseItems.children[e];if(t.getChildByName("gold").getChildByName("l_num").getComponent(cc.Label).string=a[e],t.name=c[e],0<=cc.vv.myplanes.indexOf(c[e])){var o=t.getChildByName("s_bg");o=o.getChildByName("s_icon");var i=this.getItemByName(cc.vv.planesSpriteFrames,c[e]);(o=o.getComponent(cc.Sprite)).spriteFrame=i}t.off(cc.Node.EventType.TOUCH_END),t.on(cc.Node.EventType.TOUCH_END,this.onChoosePlane,this)}cc.vv.usePlane||(cc.vv.usePlane="planeA1"),this.showChooseFlag(cc.vv.usePlane,!0)},showChooseFlag:function(e,t){e=e.substr(e.length-2,2);var o=c.indexOf(e);if(0<=o){var i=this._chooseItems.children[o];(i=(i=i.getChildByName("s_bg")).getChildByName("open")).active=t}},getItemByName:function(e,t){if(e){for(var o=0;o<e.length;o++)if(e[o].name==t)return e[o];return null}},_updateSubDomainCanvas:function(){null!=window.sharedCanvas&&(this.tex.initWithElement(window.sharedCanvas),this.tex.handleLoadedTexture(),this.rank.spriteFrame=new cc.SpriteFrame(this.tex))},update:function(){this._updateSubDomainCanvas()}}),cc._RF.pop()},{AudioMgr:"AudioMgr"}],colliderListener:[function(e,t,o){"use strict";cc._RF.push(t,"f1bc0QPGVBGoJ1t1q+V7yQh","colliderListener"),cc.Class({extends:cc.Component,properties:{},start:function(){cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(e){console.log("撞上了.")}}),cc._RF.pop()},{}],star:[function(e,t,o){"use strict";cc._RF.push(t,"45237v2CKlAe4iUsbiJ3oHg","star"),cc.Class({extends:cc.Component,properties:{_heroNode:null,_isdestroy:!1,_pos:null},start:function(){var e=this.node.getPosition();this._pos=this.node.parent.convertToWorldSpaceAR(e)},onCollisionEnter:function(e){cc.director.getScene().getChildByName("Canvas").emit("Gold_push",{other:e,target:this.node}),this.onBlast()},onBlast:function(){var e=this;this.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,5),cc.fadeTo(.3,0)),cc.callFunc(function(){e.node.removeFromParent(),e.node.destroy()})))},update:function(e){if(!this._isdestroy&&!cc.vv.isGameOver){var t=this._heroNode.getPosition();t=this._heroNode.parent.convertToWorldSpaceAR(t);var o=this._pos;1300<Math.sqrt(Math.pow(t.x-o.x,2)+Math.pow(t.y-o.y,2))&&(this.node.removeFromParent(),this.node.destroy())}}}),cc._RF.pop()},{}]},{},["AudioMgr","MissileControl","PlaneGame_Load","PlaneGame_Main","PlaneGame_Start","colliderListener","star"]);