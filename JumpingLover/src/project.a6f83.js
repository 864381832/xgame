require=function o(c,s,r){function h(e,i){if(!s[e]){if(!c[e]){var t="function"==typeof require&&require;if(!i&&t)return t(e,!0);if(u)return u(e,!0);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}var n=s[e]={exports:{}};c[e][0].call(n.exports,function(i){return h(c[e][1][i]||i)},n,n.exports,o,c,s,r)}return s[e].exports}for(var u="function"==typeof require&&require,i=0;i<r.length;i++)h(r[i]);return h}({Bianliang:[function(i,e,t){"use strict";cc._RF.push(e,"5ec89jahtNK2bnSOx/Cnnns","Bianliang"),window.userData={guanka:[],guankan:120,nowguanka:0,skin:[],userskin:0,yindaoxian:20,gold:0,caozuomoshi:1,yinyue:!0,firstgame:!0,uptime:0,nengliang:10},window.heroData={state:0,step:0,jumpcount:1,jumpcountn:1,xingxing:3,caidan:!1,girldie:!1,help:!1},window.statecolor=cc.hexToColor("#13BB93"),window.dycolor=cc.hexToColor("#A1AA40"),window.skin={lock:!0,type:0,gold:500},window.weiba={lock:!0,type:0,gold:500},window.bianjie1={x1:-1e8,x2:1e8,y1:-1e8,y2:1e8},window.youjuqing=!1,window.tiaojianscr=0,window.yinyue=0,window.shuxing=[],window.timescale=1,window.juqingrect=new cc.Rect(0,0,0,0),window.buzhou=0,window.usetime=0,window.juqinganim1=0,window.juqinganim2=0,window.q_moshi=1,window.q_xuanzheguanka=-1,window.q_dqguanka=0,window.mapxingxing={caidan:!1,step1:0,step2:0,step3:0,maxstep:0},window.gameclub=!1,window.helps=[],window.isjilu=!1,window.y_mapweizhi=cc.v2(0,0),window.gameState=0,window.touchhero=!1,window.iswin=!1,window.islose=!1,window.chushi=function(){y_mapweizhi=cc.v2(0,0),gameState=0,heroData.state=0,heroData.step=0,heroData.jumpcount=1,heroData.jumpcountn=1,heroData.xingxing=3,heroData.caidan=!1,heroData.girldie=!1,youjuqing=!1,tiaojianscr=0,yinyue=0,shuxing=[],timescale=1,juqingrect=new cc.Rect(0,0,0,0),buzhou=0,window.iswin=!1,window.islose=!1,window.helps=[],window.isjilu=!1},cc._RF.pop()},{}],Cameragensui:[function(i,e,t){"use strict";cc._RF.push(e,"acc5dzfVTFASJc3c5xsUNAZ","Cameragensui");var a,n,o,c=160,s=0,r=160,h=!0,u=!0,g=.6,d=!1,p=cc.v2(0,0),l=cc.v2(0,0);cc.Class({extends:cc.Component,properties:{heronode:cc.Node,camera:cc.Camera,canvas:cc.Node,beginnode:cc.Node,girlnode:cc.Node},onLoad:function(){var i=this;i.chushihua(),i.canvas.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveEvent,i),i.canvas.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,i)},chushihua:function(){r=c=160,u=h=!(s=0),g=.6},init:function(){var i=cc.view.getFrameSize();c-=320*(i.width/i.height-1.5),s=480-c;var e=i.width/i.height*640,t=bianjie1.x2-bianjie1.x1+320;g=e/t;var a=(bianjie1.x2+bianjie1.x1)/2,n=240/g;n<this.heronode.position.y&&(n=this.heronode.position.y),this.node.position=cc.v2(a,n),this.camera.zoomRatio=g,gameState=0,this.girlnode=cc.find("Lmap/star/star")},lateUpdate:function(i){if(0!=gameState)if(10!=gameState)if(1!=gameState)this.updateposition(),this.resetzoom(i);else if(this.camera.zoomRatio<1){this.camera.zoomRatio=this.camera.zoomRatio+i*o;var e=this.node.getPosition();e.x+=i*a,e.y+=i*n,this.node.position=e}else gameState=2,this.heronode.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,this.camera.zoomRatio=1;else this.juqingcamera(i)},juqingcamera:function(i){var e=buzhou-1;if(0==shuxing[e].mubiao)var t=this.heronode;else t=this.girlnode;if(0==shuxing[e].moshi&&(this.camera.zoomRatio=shuxing[e].scale,this.juqingcameraposition(t)),1==shuxing[e].moshi){var a=shuxing[e].time-usetime;if(0!=a)if(Math.abs(shuxing[e].scale-this.camera.zoomRatio)<.01)this.camera.zoomRatio=shuxing[e].scale,this.juqingcameraposition(t);else{this.camera.zoomRatio+=(shuxing[e].scale-this.camera.zoomRatio)/a*i;var n=cc.pSub(t.position,this.node.position);n=cc.pMult(n,i/a),this.node.position=cc.pAdd(this.node.position,n)}}usetime=i+usetime},juqingcameraposition:function(i){this.node.setPosition(i.position)},panduanbianjiey:function(i,e){var t=r;return i.y<=bianjie1.y1+t?bianjie1.y1+t:1==e&&i.y>=bianjie1.y2-t?bianjie1.y2-t:i.y},panduanbianjiex:function(i){var e=s;return i.x<=bianjie1.x1+e?bianjie1.x1+e:i.x>=bianjie1.x2-e?bianjie1.x2-e:i.x},resetzoom:function(i){h&&(this.camera.zoomRatio<1?this.camera.zoomRatio=this.camera.zoomRatio+2*i:this.camera.zoomRatio=1)},updateposition:function(){if(u){var i=cc.v2(0,0);i.x=this.panduanbianjiex(this.heronode.position),i.y=this.panduanbianjiey(this.heronode.position,0),this.node.setPosition(i)}},jisuanv:function(){var i=this.heronode.position;i.x=this.panduanbianjiex(this.heronode.position),i.y=this.panduanbianjiey(this.heronode.position,0),o=(1-this.camera.zoomRatio)/1.5,a=(i.x-this.node.position.x)/1.5,n=(i.y-this.node.position.y)/1.5,this.beginnode.active=!1},_touchEndEvent:function(){0==gameState&&(gameState=1,this.jisuanv()),d=!(u=h=!0)},_touchMoveEvent:function(i){if(2==gameState&&0==heroData.state){var e=i.getTouches();if(e.length<=2&&touchhero){if(d||(l=cc.pNeg(this.node.convertToNodeSpaceAR(this.heronode.position)),p=this.node.position,h=!(d=!0),cc.log(this.heronode.position+"  "+this.node.position),cc.log(l)),u=!1,.4<this.camera.zoomRatio){var t=i.touch.getDelta(),a=cc.pLength(t);this.camera.zoomRatio=this.camera.zoomRatio-a/600,this.node.position=cc.pAdd(p,cc.pMult(l,1/this.camera.zoomRatio-1))}}else if(1==e.length){u=!1;t=i.touch.getDelta();var n=cc.v2(this.node.x+3*t.x,this.node.y+3*t.y);this.node.x=this.panduanbianjiex(n),this.node.y=this.panduanbianjiey(n,0)}}}}),cc._RF.pop()},{}],Getbone:[function(i,e,t){"use strict";cc._RF.push(e,"809a9sWaDBL85QsoWCSqE7r","Getbone"),cc.Class({extends:cc.Component,properties:{_armature:null,_armatureDisplay:null,bone:[]},init:function(){this._armatureDisplay=this.getComponent(dragonBones.ArmatureDisplay),this._armature=this._armatureDisplay.armature(),this.huoqubone()},huoqubone:function(){for(var i,e=0;e<9;e++)i=e+1,this.bone[e]=this._armature.getBone("bone"+i)}}),cc._RF.pop()},{}],Girlscr:[function(i,e,t){"use strict";cc._RF.push(e,"4f904RrOf9H04yjAq7XMENt","Girlscr"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],Grapscr:[function(i,e,t){"use strict";cc._RF.push(e,"636f2MyC0xANbXRxLLX9wIO","Grapscr"),cc.Class({extends:cc.Component,properties:{grap:cc.Graphics,rigidbody:cc.RigidBody,phy:cc.PhysicsPolygonCollider,prefab:cc.Prefab},onLoad:function(){},init:function(i,e){this.grap.moveTo(0,0),this.phy.points[0]=cc.v2(0,0);for(var t=0;t<i.length;t++)i[t].y=-i[t].y;for(t=0;t<i.length;t++){if(0!=t&&(this.phy.points[t]=cc.v2(i[t].x,i[t].y),this.grap.lineTo(i[t].x,i[t].y)),0==t)var a=i[i.length-1],n=i[t];else n=i[t],a=i[t-1];var o=cc.pDistance(n,a),c=this._getAngle(cc.pSub(n,a));c=-c;var s=cc.instantiate(this.prefab);s.parent=this.node;var r=cc.pMidpoint(n,a);s.setPosition(r.x,r.y),s.rotation=c,s.width=o,s.height=3,1==e&&(s.color=dycolor)}this.phy.apply(),1==e&&(this.rigidbody.type=cc.RigidBodyType.Dynamic,this.grap.fillColor=dycolor),this.grap.close(),this.grap.fill()},start:function(){},_getAngle:function(i){var e=cc.v2(0,0);return this._angle=Math.atan2(i.y-e.y,i.x-e.x)*(180/Math.PI),this._angle}}),cc._RF.pop()},{}],Hero:[function(i,e,t){"use strict";cc._RF.push(e,"20e41ADg/1DxpoyrL9nCyK8","Hero");var a,n=i("gameUIscr"),o=0;cc.Class({extends:cc.Component,properties:{herophy:cc.PhysicsCircleCollider,rigidbody:cc.RigidBody,gameuiscr:n,starnode:cc.Node,juqingaduio:cc.AudioSource,jumpaduio:cc.AudioSource,winaduio:cc.AudioSource,loseaduio:cc.AudioSource,bgaduio:cc.AudioSource,heroanim:dragonBones.ArmatureDisplay,girlanim:dragonBones.ArmatureDisplay,girlnode:cc.Node},onLoad:function(){a=this},init:function(){this.girlnode=this.starnode.children[0],userData.yinyue?this.bgaduio.play():this.bgaduio.stop()},start:function(){cc.director.getCollisionManager().enabled=!0},update:function(i){0!=gameState&&(iswin&&(heroData.girldie||(this.rigidbody.type=cc.RigidBodyType.Static,this.girlnode.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,10!=gameState&&this.win())),2==gameState&&(this.panduandead(),0!=heroData.state&&youjuqing&&10!=gameState&&this.panduanjuqing()),0!=heroData.state&&cc.pLength(this.rigidbody.linearVelocity)<1&&7<++o&&(heroData.state=0,heroData.jumpcount=heroData.jumpcountn,o=0))},panduandead:function(){if((this.node.x<bianjie1.x1-20||this.node.x>bianjie1.x2+20||this.node.y<bianjie1.y1-20)&&(this.rigidbody.type=cc.RigidBodyType.Static,this.girlnode.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,this.lose()),this.girlnode.x<bianjie1.x1-20||this.girlnode.x>bianjie1.x2+20||this.girlnode.y<bianjie1.y1-20){if(heroData.girldie=!0,youjuqing&&(this.panduanjuqing(),10==gameState))return;this.rigidbody.type=cc.RigidBodyType.Static,this.girlnode.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,this.lose()}},onBeginContact:function(i,e,t){this.panduan(t,i),this.setnode(t),this.setzhan(t)},onEndContact:function(i,e,t){this.resetnode(t),this.resetzhan(t)},onPreSolve:function(i,e,t){},onPostSolve:function(i,e,t){},win:function(){gameState=4,this.winaduio.play(),this.bgaduio.stop(),heroData.caidan&&(userData.guanka[q_xuanzheguanka].caidan=!0,heroData.xingxing=3),heroData.xingxing>userData.guanka[q_xuanzheguanka].xingxing&&(userData.guanka[q_xuanzheguanka].xingxing=heroData.xingxing,qudaoscr.setscore()),userData.guanka[q_xuanzheguanka+1].suoding=!1,cc.sys.localStorage.setItem("userData",JSON.stringify(userData)),iswin=!1,this.gameuiscr.Gamenext()},lose:function(){5!=gameState&&4!=gameState&&(gameState=5,this.gameuiscr.Gameover(),this.loseaduio.play(),this.bgaduio.stop(),this.rigidbody.gravityScale=0,this.rigidbody.linearVelocity=cc.v2())},panduan:function(i,e){switch(i.tag){case 10:iswin=!0;break;case 11:break;case 3:this.lose();break;case 4:heroData.caidan=!0,e.disabled=!0,i.node.active=!1}},setzhan:function(i){2==i.tag&&(this.rigidbody.gravityScale=0,this.rigidbody.linearVelocity=cc.v2())},resetzhan:function(i){2==i.tag&&(this.rigidbody.gravityScale=5)},setnode:function(i){100==i.getComponent(cc.RigidBody).gravityScale&&(i.getComponent("Moveto").ishold=!0)},resetnode:function(i){100==i.getComponent(cc.RigidBody).gravityScale&&(i.getComponent("Moveto").ishold=!1)},fashe:function(i,e){heroData.state=1,this.rigidbody.linearVelocity=cc.v2(i,e),heroData.jumpcount=heroData.jumpcount-1,this.jumpaduio.play()},isenter:function(i){for(var e=0;e<10;e++){var t=i-.03*e,a=cc.v2(0,0);if(a.x=this.rigidbody.linearVelocity.x*t,a.y=(2*this.rigidbody.linearVelocity.y-1600*t)*t/2,a=cc.pAdd(this.node.position,a),juqingrect.contains(a))return!0}return!1},settime:function(){var i=shuxing[buzhou].timescale/timescale;timescale=shuxing[buzhou].timescale,this.rigidbody.linearVelocity=cc.pMult(this.rigidbody.linearVelocity,i),this.rigidbody.gravityScale=this.rigidbody.gravityScale*i*i;var e=this.girlnode.getComponent(cc.RigidBody);e.linearVelocity=cc.pMult(e,i),e.gravityScale=e.gravityScale*i*i},huanyuan:function(){if(10==gameState){var i=1/timescale;timescale=1,this.rigidbody.linearVelocity=cc.pMult(this.rigidbody.linearVelocity,i),this.rigidbody.gravityScale=5;var e=this.girlnode.getComponent(cc.RigidBody);e.linearVelocity=cc.pMult(e,i),e.gravityScale=5,this.heroanim.playAnimation("waitxia"),this.girlanim.playAnimation("girlwait")}},setanim:function(){if(0!=shuxing[buzhou].anim1)switch(shuxing[buzhou].anim1){case 1:this.heroanim.playAnimation("aixinboy");break;case 2:this.heroanim.playAnimation("jinjiao")}if(0!=shuxing[buzhou].anim2)switch(shuxing[buzhou].anim2){case 1:this.girlanim.playAnimation("aixingirl")}},loadjuqing:function(){if(buzhou==shuxing.length)return a.huanyuan(),gameState=2,buzhou=0,void(youjuqing=!1);a.settime(),usetime=0,a.setanim(),a.scheduleOnce(a.xxx,shuxing[buzhou].time),buzhou++},xxx:function(){this.scheduleOnce(a.loadjuqing,0)},panduanjuqing:function(){tiaojianscr.time&&!this.isenter(tiaojianscr.time)||tiaojianscr.getcaidan&&!heroData.caidan||tiaojianscr.girldie&&!heroData.girldie||(this.heroanim=this.node.getChildByName("Heroanim").getComponent(dragonBones.ArmatureDisplay),this.girlanim=this.girlnode.getComponent(dragonBones.ArmatureDisplay),this.juqingaduio.play(),this.bgaduio.stop(),gameState=10,this.loadjuqing())}}),cc._RF.pop()},{gameUIscr:"gameUIscr"}],Loadmap:[function(i,e,t){"use strict";cc._RF.push(e,"5b662q0b1FIx63ZOS+qAWSX","Loadmap");var h,a=i("Cameragensui"),n=i("starScr");cc.Class({extends:cc.Component,properties:{canvas:cc.Node,heronode:cc.Node,tilemap01:cc.Node,zhangainode:cc.Node,starnode:cc.Node,backgroud:cc.Node,backbg:cc.Node,juqingsound:cc.Node,helpnode:cc.Node,zhangaiprefab:cc.Prefab,tanlizhangai:cc.Prefab,zhanprefab:cc.Prefab,chuanprefab:cc.Prefab,tanprefab:cc.Prefab,starprefab:cc.Prefab,doorprefab:cc.Prefab,jianprefab:cc.Prefab,objprefab:cc.Prefab,yuanfrefab:cc.Prefab,camerascript:a,starscr:n},onLoad:function(){if(1==q_moshi){var i="Map/guan"+q_xuanzheguanka;this.onLoadTileMap(i,this.tilemap01)}},start:function(){},update:function(i){},onLoadTileMap:function(i,t){var a=this;cc.loader.loadRes(i,cc.TiledMapAsset,function(i,e){i?cc.error(i):(a.onCreateTileMap(e,t),a.camerascript.init(),a.starscr.init(),a.heronode.getComponent("Hero").init(),a.canvas.setLocalZOrder(-1))})},onCreateTileMap:function(i,e){var t=e.getComponent(cc.TiledMap);t.tmxAsset=i,h=cc.size(20*t.getMapSize().width,20*t.getMapSize().height),e.setPosition(10*t.getMapSize().width+y_mapweizhi.x,10*t.getMapSize().height+y_mapweizhi.y),this.Setzhangai(t),this.Setbianjie(t,e),this.backgroud.width=20*t.getMapSize().width+60,this.backgroud.height=80*t.getMapSize().height,this.backgroud.position=cc.v2(e.position.x,-30),this.backbg.width=20*t.getMapSize().width+1500,this.backbg.height=80*t.getMapSize().height+1500,this.backbg.position=cc.v2(e.position.x,-1500),t.getObjectGroup("duixiang").enabled=!1},Setbianjie:function(i,e){"map01"==e.name&&(bianjie1.x1=e.getPosition().x-10*i.getMapSize().width,bianjie1.x2=e.getPosition().x+10*i.getMapSize().width,bianjie1.y1=e.getPosition().y-10*i.getMapSize().height,bianjie1.y2=e.getPosition().y+10*i.getMapSize().height)},Setzhangai:function(i){var e=i.getObjectGroup("duixiang");if(null!==e)for(var t=e.getObjects(),a=0;a<t.length;a++)switch(t[a].name){case"floor":this.setprefab(t[a],this.zhangaiprefab,1,this.zhangainode);break;case"floordy":this.setprefab(t[a],this.zhangaiprefab,1,this.zhangainode,!0);break;case"tanlizhangai":this.setprefab(t[a],this.tanlizhangai,1,this.zhangainode);break;case"chuan":this.setprefab(t[a],this.chuanprefab,1,this.zhangainode);break;case"zhan":this.setprefab(t[a],this.zhanprefab,1,this.zhangainode);break;case"jian":this.setprefab(t[a],this.jianprefab,1,this.zhangainode);break;case"star":this.setprefab(t[a],this.starprefab,2,this.starnode);break;case"caidan":this.setprefab(t[a],this.tanprefab,2,this.zhangainode);break;case"door":this.setprefab(t[a],this.doorprefab,2,this.zhangainode);break;case"xiantiao":this.setxiantiao(t[a],this.zhangaiprefab,this.zhangainode);break;case"hero":this.heronode.setPosition(t[a].offset.x,h.height-t[a].offset.y-t[a].objectSize.height/2);break;case"map":var n=t[a].getProperties();if(mapxingxing.caidan=n.caidan,mapxingxing.step1=parseInt(n.step1),mapxingxing.step2=parseInt(n.step2),mapxingxing.step3=parseInt(n.step3),mapxingxing.maxstep=mapxingxing.step1+mapxingxing.step2+mapxingxing.step3,"true"==n.help||heroData.help)heroData.help=!1,this.helpnode.getComponent("helpscr").init();break;case"objst":this.setobj(t[a],this.objprefab,0);break;case"objdy":this.setobj(t[a],this.objprefab,1);break;case"yuanst":this.setyuan(t[a],this.yuanfrefab,0);break;case"yuandy":this.setyuan(t[a],this.yuanfrefab,1);break;case"juqing":this.loadjuqing(t[a])}},loadjuqing:function(i){var e=i.getProperties(),t=this;cc.loader.loadRes("Sound/"+e.yinyue,cc.AudioClip,function(i,e){yinyue=e,t.juqingsound.getComponent(cc.AudioSource).clip=yinyue}),youjuqing=!0;var a=t.getzuobiao1(i),n=a[0]-a[2]/2,o=a[1]-a[3]/2;juqingrect=cc.rect(n,o,a[2],a[3]),shuxing=JSON.parse(e.type),tiaojianscr=JSON.parse(e.tiaojian)},setyuan:function(i,e,t){var a=i.objectSize.width/2,n=cc.instantiate(e);n.parent=this.zhangainode;var o=this.getposition(i);o=cc.pAdd(o,cc.v2(a,-a)),n.setPosition(o),n.getComponent("yuanscr").init(a,t)},setobj:function(i,e,t){var a=i.getProperties().points,n=cc.instantiate(e);n.parent=this.zhangainode;var o=this.getposition(i);n.setPosition(o),n.getComponent("Grapscr").init(a,t)},setxiantiao:function(i,e){var t=i.getProperties().polylinePoints,a=new cc.Node("xiantiaoxie");a.parent=this.zhangainode;var n=this.getzuobiao1(i);a.setPosition(n[0],n[1]);for(var o=0;o<t.length;o++)t[o].y=-t[o].y;for(o=0;o<t.length-1;o++){var c=cc.pDistance(t[o+1],t[o])+6,s=this._getAngle(cc.pSub(t[o+1],t[o]));s=-s;var r=cc.instantiate(e);r.parent=a;var h=cc.pMidpoint(t[o+1],t[o]);r.setPosition(h.x,h.y),r.rotation=s,r.width=c,r.height=10;var u=r.getComponent(cc.PhysicsBoxCollider);u.size.width=c,u.size.height=10,u.apply()}},setprefab:function(i,e,t,a,n){var o=i.getProperties(),c=this.getzuobiao1(i),s=cc.instantiate(e);if(s.parent=a,s.setPosition(c[0],c[1]),s.rotation=c[4],1==t){s.width=c[2],s.height=c[3];var r=s.getComponent(cc.PhysicsBoxCollider);r.size.width=c[2],r.size.height=c[3],r.apply()}n&&(s.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,s.color=cc.hexToColor("#D2DD53"));if(null!=o.x1&&null==o.x2){var h=s.addComponent("Moveto");s.getComponent(cc.RigidBody).gravityScale=100;var u=cc.v2(parseInt(o.x1),parseInt(o.y1));h.setmoveto(u)}if(null!=o.x1&&null!=o.x2){h=s.addComponent("Moveto");s.getComponent(cc.RigidBody).gravityScale=100;u=cc.v2(parseInt(o.x1),parseInt(o.y1));var g=cc.v2(parseInt(o.x2),parseInt(o.y2));h.setmoveto2(u,g)}},getposition:function(i){return cc.v2(i.offset.x,h.height-i.offset.y)},getzuobiao1:function(i){var e=i.getProperties(),t=i.offset.x+y_mapweizhi.x,a=h.height-i.objectSize.height-i.offset.y+y_mapweizhi.y,n=i.offset.x+i.objectSize.width+y_mapweizhi.x,o=h.height-i.offset.y+y_mapweizhi.y,c=(t+n)/2,s=(a+o)/2,r=-e.rotation*(Math.PI/180);return[(c-t)*Math.cos(r)-(s-o)*Math.sin(r)+t,(s-o)*Math.cos(r)+(c-t)*Math.sin(r)+o,i.objectSize.width,i.objectSize.height,e.rotation]},_getAngle:function(i){var e=cc.v2(0,0);return this._angle=Math.atan2(i.y-e.y,i.x-e.x)*(180/Math.PI),this._angle}}),cc._RF.pop()},{Cameragensui:"Cameragensui",starScr:"starScr"}],Moveto:[function(i,e,t){"use strict";cc._RF.push(e,"c9ac3U7Y4VGirVRfArnhCpm","Moveto"),cc.Class({extends:cc.Component,properties:{_actions:[],ismove:!1,_speed:200},start:function(){this.heronode=cc.find("Hero"),this.ishold=!1,this.dq=0,this.dqmovejuli=cc.v2()},setmoveto:function(i){this._actions[0]=i,this._actions[1]=cc.pNeg(i),this.ismove=!0,this.dq=0},setmoveto2:function(i,e){this._actions[0]=i,this._actions[1]=e,this._actions[2]=cc.pNeg(e),this._actions[3]=cc.pNeg(i),this.ismove=!0,this.dq=0},_getDistance:function(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))},setheroposition:function(i){if(this.ismove){var e=cc.pNormalize(this._actions[this.dq]);e=cc.pMult(e,i*this._speed),this.dqmovejuli=cc.pAdd(this.dqmovejuli,e),cc.pLengthSQ(this.dqmovejuli)>=cc.pLengthSQ(this._actions[this.dq])&&(e=cc.pSub(this._actions[this.dq],cc.pSub(this.dqmovejuli,e)),this.dqmovejuli=cc.v2(),this.dq+=1,this.dq==this._actions.length&&(this.dq=0));var t=cc.pAdd(this.node.getPosition(),e);if(this.node.setPosition(t),this.ishold){var a=cc.pAdd(this.heronode.getPosition(),e);this.heronode.setPosition(a)}}},update:function(i){this.setheroposition(i*timescale)}}),cc._RF.pop()},{}],Touchanim:[function(i,e,t){"use strict";var u,g,d,p;cc._RF.push(e,"a18b8BcEztMuIYtCuGg2g4m","Touchanim"),cc.Class({extends:cc.Component,properties:{donghua:cc.Node,xingxing:cc.Node,rigidbody:cc.RigidBody,cameranode:cc.Camera,graph:cc.Graphics,yaogannode:{default:null,type:cc.Node,displayName:"摇杆节点"},dot:{default:null,type:cc.Node,displayName:"摇杆中心节点"},ring:{default:null,type:cc.Node,displayName:"摇杆背景节点"},_getbone:null,_hero:null,_camera:null},onLoad:function(){0==userData.caozuomoshi?this._initTouchEvent():(this.yaogannode.active=!0,this.inityaogan()),this._getbone=this.donghua.getComponent("Getbone"),this._hero=this.node.getComponent("Hero"),this._camera=this.cameranode.getComponent("Cameragensui"),cc.director.getPhysicsManager().enabled=!0,u=1.2*this.node.width,g=.5*this.node.width},inityaogan:function(){var i=this;i.yaogannode.on(cc.Node.EventType.TOUCH_START,i._touchStartEvent,i),i.yaogannode.on(cc.Node.EventType.TOUCH_MOVE,i._touchMoveEvent,i),i.yaogannode.on(cc.Node.EventType.TOUCH_END,i._touchEndEvent,i),i.yaogannode.on(cc.Node.EventType.TOUCH_CANCEL,i._touchEndEvent,i)},_initTouchEvent:function(){var i=this;i.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,i),i.node.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveEvent,i),i.node.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,i),i.node.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndEvent,i)},_touchStartEvent:function(i){if(2==gameState&&(touchhero=!0,1==userData.caozuomoshi)){var e=this.yaogannode.convertToNodeSpaceAR(i.getLocation());this.ring.setPosition(e),this.dot.setPosition(e),this.yaogannode.opacity=80}},_touchMoveEvent:function(i){if(!(2!=gameState||heroData.jumpcount<1)){if(0==userData.caozuomoshi){var e=this.cameranode.getCameraToWorldPoint(i.getLocation()),t=this._getDistance(e,this.node.getPosition());this._getAngle(this.node.position,e)}if(1==userData.caozuomoshi){e=this.ring.convertToNodeSpaceAR(i.getLocation()),t=this._getDistance(e,cc.v2(0,0));this._getAngle(cc.v2(0,0),e);var a=this.ring.width/2;if(t<a)this.dot.position=this.yaogannode.convertToNodeSpaceAR(i.getLocation());else{var n=cc.pMult(cc.pNormalize(e),a);n=cc.pAdd(n,this.ring.position),this.dot.setPosition(n)}}u<t&&(t=u),this.bianxing(t,this._angle),this.shexian()}},_touchEndEvent:function(){if(touchhero=!1,isjilu){var i={position:cc.v2(0,0),point:[]};i.position=this.node.position;for(var e=1;e<20;e++){var t=.03*d*e,a=.03*(p-48*e+p)*e/2;i.point.push(cc.v2(t,a))}helps.push(i),isjilu=!1}if(1==userData.caozuomoshi&&(this.yaogannode.opacity=10,this.dot.position=this.ring.position),0==gameState)return gameState=1,void this._camera.jisuanv();2!=gameState||heroData.jumpcount<1||0==d&&0==p||(this.setstep(),this.fuyuan(),this._hero.fashe(d,p),p=d=0,this.graph.clear())},setstep:function(){heroData.step++;var i=this.xingxing.getChildByName("filled"),e=this.xingxing.getChildByName("star").children,t=470-heroData.step/mapxingxing.maxstep*470;0<=t&&(i.width=t),heroData.step>mapxingxing.step1+mapxingxing.step2?e[heroData.xingxing=1].active=!1:heroData.step>mapxingxing.step1&&(e[heroData.xingxing=2].active=!1)},_getDistance:function(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))},_getAngle:function(i,e){return this._angle=Math.atan2(e.y-i.y,e.x-i.x)*(180/Math.PI),this._angle},fuyuan:function(){for(var i=0;i<this._getbone.bone.length;i++)this._getbone.bone[i].offset.x=0,this._getbone.bone[i].offset.y=0},shexian:function(){this.graph.clear();for(var i=1;i<20;i++){var e=.03*d*i,t=.03*(p-48*i+p)*i/2;this.graph.circle(e,t,1)}this.graph.stroke()},bianxing:function(i,e){for(var t=Math.cos(e*(Math.PI/180))*g,a=Math.sin(e*(Math.PI/180))*g,n=cc.v2(t,a),o=0;o<this._getbone.bone.length;o++){var c=cc.v2(this._getbone.bone[o].global.x,-this._getbone.bone[o].global.y),s=this._getDistance(c,n),r=Math.cos(e*(Math.PI/180))*s*i/u*.6,h=-Math.sin(e*(Math.PI/180))*s*i/u*.6;d=-Math.cos(e*(Math.PI/180))*i/u*1e3,p=-Math.sin(e*(Math.PI/180))*i/u*1e3,this._getbone.bone[o].offset.x=r,this._getbone.bone[o].offset.y=h}}}),cc._RF.pop()},{}],dragonBone:[function(i,e,t){"use strict";cc._RF.push(e,"813b9wMXjFDN4P40SrxyiZP","dragonBone"),cc.Class({extends:cc.Component,properties:{dragonBonesAsset:dragonBones.DragonBonesAsset,dragonBonesAtlasAsset:dragonBones.DragonBonesAtlasAsset,armatureName:{default:"",tooltip:"当前的 Armature 名称。"},animationName:{default:"",tooltip:"当前播放的动画名称"},dragonDir:{default:"",tooltip:"骨骼动画json文件所在目录"},timeScale:{default:1,tooltip:"当前骨骼中所有动画的时间缩放率"},playTimes:{default:0,tooltip:"播放默认动画的循环次数 -1 表示使用配置文件中的默认值; 0 表示无限循环 >1 表示循环次数"}},onLoad:function(){this.armatureDisplay=this.node.addComponent(dragonBones.ArmatureDisplay),this.armatureDisplay.dragonAsset=null,this.armatureDisplay.dragonAtlasAsset=null,this.armatureDisplay.armatureName=null,this._isMecha?this._isMecha=!1:this._isMecha=!0,this.loadDragonBones(this.armatureDisplay,this.dragonDir,this.armatureName,this.animationName,this.playTimes)},loadDragonBones:function(a,i,n,o){var c=this;cc.loader.loadResDir(i,function(i,e){if(!(i||e.length<=0)){a.armatureName="",a.dragonAsset=null,a.dragonAtlasAsset=null;for(var t=0;t<e.length;t++)e[t]instanceof dragonBones.DragonBonesAsset&&(a.dragonAsset=e[t]),e[t]instanceof dragonBones.DragonBonesAtlasAsset&&(a.dragonAtlasAsset=e[t]);if(a.armatureName=n,a.timeScale=c.timeScale,a.playAnimation(o,c.playTimes),"Heroanim"==c.node.name)c.node.getComponent("Getbone").init()}})},start:function(){},onDestroy:function(){cc.sys.isNative&&this.armatureDisplay._factory.clear(),cc.loader.releaseResDir(this.dragonDir)}}),cc._RF.pop()},{}],gameUIscr:[function(i,e,t){"use strict";cc._RF.push(e,"6d7189AwpVFaILr5D/wpyYx","gameUIscr"),cc.Class({extends:cc.Component,properties:{gameover:cc.Node,gamenext:cc.Node,gamerestart:cc.Node,xingdonghua:cc.Animation,clickaudio:cc.AudioSource},Gameover:function(){gameState=3,this.gameover.active=!0},Gamenext:function(){gameState=4,this.gamenext.active=!0,3==heroData.xingxing&&this.xingdonghua.play("guankaxingxing3"),2==heroData.xingxing&&this.xingdonghua.play("guankaxingxing2"),heroData.caidan&&(this.gamenext.getChildByName("caidan").active=!0)},onclicksound:function(){this.clickaudio.play()},onclickres:function(){this.gamerestart.active=!0},onclickresclose:function(){this.gamerestart.active=!1},Onclickbegin:function(){q_moshi=1;new chushi;cc.director.loadScene("game")},Onclicknext:function(){q_moshi=1,q_xuanzheguanka++;new chushi;cc.director.loadScene("game")},Onclickhome:function(){cc.director.loadScene("mainScence")}}),cc._RF.pop()},{}],gamewxscr:[function(i,e,t){"use strict";cc._RF.push(e,"87a71obRZxLT5XhirZuW0+D","gamewxscr"),cc.Class({extends:cc.Component,properties:{thanknode:cc.Node,fenxiangid:null,animation:cc.Animation,helpbox:cc.Node},start:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&gameclub&&gameclub.hide()},fenxiang:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.animation.off("finished",this.fenxiang,this),this.thanknode.active=!1,(this.fenxiangid=1)&&window.wx.shareAppMessage({title:"嗯!挺有意思的，你也一起来吧！",imageUrl:"https://myres-1256148877.cos.ap-chengdu.myqcloud.com/help/fenxiang.png"}),(this.fenxiangid=2)&&window.wx.shareAppMessage({title:"游戏太难了，快来帮帮我",imageUrl:"https://myres-1256148877.cos.ap-chengdu.myqcloud.com/help/fenxiang.png"}))},fenxiangwin:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.fenxiangid=1,this.playanim())},Onclickhelp:function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){if(q_xuanzheguanka<20){heroData.help=!0,q_moshi=1;new chushi;cc.director.loadScene("game")}qudaoscr.showAD()}cc.sys.os==cc.sys.OS_ANDROID&&(this.helpbox.active=!0)},onclickOK:function(){if(this.helpbox.active=!1,q_xuanzheguanka<20){heroData.help=!0,q_moshi=1;new chushi;cc.director.loadScene("game")}},fenxianglose:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.fenxiangid=2,this.playanim())},playanim:function(){this.thanknode.active=!0;var i=this.animation.play("b1");i.repeatCount=2,i.speed=2,this.animation.on("finished",this.fenxiang,this)}}),cc._RF.pop()},{}],guankascr:[function(i,e,t){"use strict";cc._RF.push(e,"223b5DuryxI5IgCz75Ia3AQ","guankascr"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.Onclickbegin,this),this.node.on(cc.Node.EventType.TOUCH_END,this.Onclickend,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.Onclickout,this)},Onclickbegin:function(){"guankabtn"==this.node.name&&(this.node.scale=1.2)},Onclickend:function(i){if("guankabtn"==this.node.name){this.node.scale=1;new chushi;q_xuanzheguanka=this.node.getChildByName("label").getComponent(cc.Label).string-1,cc.director.loadScene("game")}},Onclickout:function(i){"guankabtn"==this.node.name&&(this.node.scale=1)}}),cc._RF.pop()},{}],helpscr:[function(i,e,t){"use strict";cc._RF.push(e,"8dc5ejRQ41Ho5VP1pY9g6+X","helpscr"),cc.Class({extends:cc.Component,properties:{grap:cc.Graphics},start:function(){},onKeyUp:function(i){switch(i.keyCode){case cc.KEY.q:isjilu=!0;break;case cc.KEY.w:this.init();break;case cc.KEY.y:this.showhelp();break;case cc.KEY.s:this.save()}},init:function(){var t=this;cc.loader.loadRes("Maphelp/guanka"+q_xuanzheguanka,function(i,e){helps=e.json,t.showhelp()})},save:function(){jsb.fileUtils.writeStringToFile(JSON.stringify(helps),jsb.fileUtils.getWritablePath()+"/map/guanka"+q_xuanzheguanka+".json")},showhelp:function(){this.grap.clear();for(var i=0;i<helps.length;i++){this.grap.circle(helps[i].position.x,helps[i].position.y,30),this.grap.stroke();for(var e=0;e<helps[i].point.length;e++)this.grap.circle(helps[i].point[e].x+helps[i].position.x,helps[i].point[e].y+helps[i].position.y,1);this.grap.stroke()}}}),cc._RF.pop()},{}],loadguanka:[function(i,e,t){"use strict";var c;cc._RF.push(e,"98f65kcaZVHCLp7iApk+BvP","loadguanka"),cc.Class({extends:cc.Component,properties:{guankaprb:cc.Prefab,guankalock:cc.Prefab,guankapnode:cc.Prefab,caidanpreb:cc.Prefab,guankastrnode:cc.Prefab,content:cc.Node,target:cc.PageView,tanchuan:cc.Node,toggle1:cc.Node,toggle2:cc.Node,close:cc.AudioSource,click:cc.AudioSource,fanye:cc.AudioSource,bgaudio:cc.AudioSource,ban:cc.Node,guankaanim:cc.Animation,setanim:cc.Animation,helpanim:cc.Animation,xingxinglabel:cc.Label,caidanlabel:cc.Label,helpnode:cc.Node,exitnode:cc.Node},onLoad:function(){(c=this).chushiShuju(),cc.sys.os==cc.sys.OS_ANDROID&&cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,c.exitshow,c)},exitclick:function(i){cc.director.end()},exitshow:function(){this.exitnode.active=!0},exithide:function(){this.exitnode.active=!1},callback:function(i,e){i.target.getComponent(cc.Button)},chushiShuju:function(){var i=cc.sys.localStorage.getItem("userData");i?userData=JSON.parse(i):(c.newUser(),cc.sys.localStorage.setItem("userData",JSON.stringify(userData))),c.jiazaiguanka(),c.loadxingxingshu(),c.scheduleOnce(c.qiehuan,.3),1==userData.caozuomoshi?(c.toggle1.active=!1,c.toggle2.active=!0):(c.toggle1.active=!0,c.toggle2.active=!1),userData.yinyue?(c.ban.active=!1,this.bgaudio.play()):(c.ban.active=!0,this.bgaudio.stop())},qiehuan:function(){var i=Math.floor(q_xuanzheguanka/18);c.target.scrollToPage(i)},loadxingxingshu:function(){for(var i=0,e=0,t=0;t<userData.guanka.length;t++)i+=userData.guanka[t].xingxing,userData.guanka[t].caidan&&e++;var a=3*userData.guanka.length;this.xingxinglabel.string=i+"/"+a,this.caidanlabel.string=e+"/7"},newUser:function(){var i={xingxing:0,step:1e4,caidan:!1,suoding:!1};userData.guanka[0]=i;for(var e=1;e<userData.guankan;e++){i={xingxing:0,step:1e4,caidan:!1,suoding:!0};userData.guanka[e]=i}},closeclick:function(){this.close.play()},clickclick:function(){this.click.play()},fanyeclick:function(){this.fanye.play()},radioButtonClicked1:function(i){userData.caozuomoshi=0,cc.sys.localStorage.setItem("userData",JSON.stringify(userData)),c.toggle1.active=!0,c.toggle2.active=!1},radioButtonClicked2:function(i){userData.caozuomoshi=1,cc.sys.localStorage.setItem("userData",JSON.stringify(userData)),c.toggle1.active=!1,c.toggle2.active=!0},tanchuanshow:function(){c.setanim.play("setshow"),c.guankaanim.play("guankahide"),c.helpanim.play("hide")},tanchuanhide:function(){c.setanim.play("hide"),c.guankaanim.play("guankashow")},helpshow:function(){c.setanim.play("hide"),c.guankaanim.play("guankahide"),c.helpanim.play("helpshow")},helphide:function(){c.helpanim.play("hide"),c.guankaanim.play("guankashow")},musicclick:function(){userData.yinyue?(userData.yinyue=!1,this.bgaudio.stop(),this.ban.active=!0):(userData.yinyue=!0,this.bgaudio.play(),this.ban.active=!1),cc.sys.localStorage.setItem("userData",JSON.stringify(userData))},clicknext:function(){var i=this.helpnode.position;-2260<this.helpnode.position.x&&(i.x-=500,this.helpnode.position=i)},clickback:function(){var i=this.helpnode.position;this.helpnode.position.x<-260?i.x+=500:i.x=-260,this.helpnode.position=i},jiazaiguanka:function(){for(var i=0;i<userData.guankan;i++){if(i%18==0){var e=cc.instantiate(c.guankapnode);e.parent=c.content}if(1==userData.guanka[i].suoding){(o=cc.instantiate(c.guankalock)).parent=e,-1==q_xuanzheguanka&&(q_xuanzheguanka=i-1)}else{if((o=cc.instantiate(c.guankaprb)).parent=e,q_dqguanka=i,userData.guanka[i].caidan)cc.instantiate(c.caidanpreb).parent=o;var t,a=o.getChildByName("xingxing").children;for(t=0;t<userData.guanka[i].xingxing;t++)a[t].active=!0}o.getChildByName("label").getComponent(cc.Label).string=i+1}var n=["敬请期待","敬请期待","反正没人","可以通关","暂时不做","任性!!"];for(i=0;i<6;i++){var o;(o=cc.instantiate(c.guankastrnode)).parent=e,o.getChildByName("label").getComponent(cc.Label).string=n[i]}}}),cc._RF.pop()},{}],loadscr:[function(i,e,t){"use strict";var a,n;cc._RF.push(e,"fa8abSIUthLcZArOLiMQiuw","loadscr");var o=!1;cc.Class({extends:cc.Component,properties:{jiazainode:cc.Node},onLoad:function(){var i=cc.view.getFrameSize();this.gamewidth=i.width/2-50,this.gameheigth=i.height/2-20,(n=this).chushishuju(),cc.sys.os==cc.sys.OS_ANDROID&&cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,n.onKeyUp,n)},onKeyUp:function(i){switch(i.keyCode){case cc.KEY.back:cc.director.end()}},chushishuju:function(){var i=cc.sys.localStorage.getItem("userData");i?userData=JSON.parse(i):(n.newUser(),cc.sys.localStorage.setItem("userData",JSON.stringify(userData)),cc.sys.platform==cc.sys.WECHAT_GAME&&(cc.director.preloadScene("mainScence"),cc.director.preloadScene("game"),this.jiazainode.active=!0))},newUser:function(){var i={xingxing:0,step:1e4,caidan:!1,suoding:!1};userData.guanka[0]=i;for(var e=1;e<userData.guankan;e++){i={xingxing:0,step:1e4,caidan:!1,suoding:!0};userData.guanka[e]=i}},clickguankamoshi:function(){var e=this;if(cc.sys.platform==cc.sys.WECHAT_GAME)if(userData.firstgame)wx.authorize({scope:"scope.userInfo",success:function(){cc.director.loadScene("mainScence")},fail:function(){},complete:function(){userData.firstgame=!1,cc.sys.localStorage.setItem("userData",JSON.stringify(userData))}});else{wx.getSetting({success:function(i){if(i.authSetting["scope.userInfo"])cc.director.loadScene("mainScence");else{if(o)return;o=!0,e.textclick()}}})}else cc.director.loadScene("mainScence")},textclick:function(){(a=wx.createUserInfoButton({type:"text",text:"登录",style:{left:this.gamewidth,top:this.gameheigth,width:100,height:40,lineHeight:40,backgroundColor:"#1F9741",color:"#ffffff",textAlign:"center",fontSize:20,borderRadius:4}})).onTap(this.callback)},callback:function(){a.hide(),n.clickguankamoshi(),o=!1}}),cc._RF.pop()},{}],"one-side-platform":[function(i,e,t){"use strict";cc._RF.push(e,"11184IhWQ9FMKf3+vzffWAv","one-side-platform"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.pointVelPlatform=cc.v2(),this.pointVelOther=cc.v2(),this.relativeVel=cc.v2(),this.relativePoint=cc.v2()},onBeginContact:function(i,e,t){this._pointsCache;for(var a=t.body,n=e.body,o=i.getWorldManifold().points,c=this.pointVelPlatform,s=this.pointVelOther,r=this.relativeVel,h=this.relativePoint,u=0;u<o.length;u++){if(n.getLinearVelocityFromWorldPoint(o[u],c),a.getLinearVelocityFromWorldPoint(o[u],s),n.getLocalVector(s.subSelf(c),r),r.y<-32)return;if(r.y<32){n.getLocalPoint(o[u],h);var g=e.getAABB().height/2;if(h.y>g-3.2)return}}i.disabled=!0}}),cc._RF.pop()},{}],paihangbtnscr:[function(i,e,t){"use strict";var a;cc._RF.push(e,"5f3d8RTUYJMGoeNycIioBJ3","paihangbtnscr"),cc.Class({extends:cc.Component,properties:{mingci:cc.Label,touxiang:cc.Sprite,mingcheng:cc.Label,defen:cc.Label,caidannode:cc.Node,xingxingnode:cc.Node},onLoad:function(){a=this},init:function(i,e,t){this.mingci.string=i,this.mingcheng.string=e.nikename;var a=0!=e.KVDataList.length?e.KVDataList[0].value:0;this.defen.string=a.toString(),this.createImage(avatarUrl),"star"==t?this.xingxingnode.active=!0:this.caidannode.active=!0},createImage:function(i){try{cc.loader.load({url:i,type:"jpg"},function(i,e){a.touxiang.spriteFrame=new cc.SpriteFrame(e)})}catch(i){}}}),cc._RF.pop()},{}],qudaoscr:[function(i,e,t){"use strict";cc._RF.push(e,"0d015XukjFNDb40Dg06x7bq","qudaoscr"),window.fbsys=!1,window.ADload=!1,window.qudaoscr={setscore:function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){for(var i=0,e=0,t=0;t<userData.guanka.length;t++)i+=userData.guanka[t].xingxing,userData.guanka[t].caidan&&e++;var a={score:e,update_time:new Date},n={score:i,update_time:new Date};wx.setUserCloudStorage({KVDataList:[{key:"xingxing",value:n},{key:"caidan",value:a}],success:function(i){console.log("setUserCloudStorage","success",i)},fail:function(i){console.log("setUserCloudStorage","fail")},complete:function(i){console.log("setUserCloudStorage","ok")}})}},loadAD:function(){ADload||(console.log("xxxx"),cc.sys.platform==cc.sys.WECHAT_GAME&&(window.myvideoAD=wx.createRewardedVideoAd("12345678"),myvideoAD.load(),myvideoAD.onLoad(function(){ADload=!0,console.log(myvideoAD)})))},showAD:function(){console.log(cc.sys.platform+"  "+fbsys),cc.sys.platform==cc.sys.WECHAT_GAME&&(window.ADload?(myvideoAD.show(),myvideoAD.onClose(function(i){if(i){heroData.help=!0,q_moshi=1;new chushi;cc.director.loadScene("game"),ADload=!1,qudaoscr.loadAD(),console.log("duile")}else{heroData.help=!1,q_moshi=1;new chushi;cc.director.loadScene("game"),console.log("cuole")}})):qudaoscr.loadAD())}},cc._RF.pop()},{}],starScr:[function(i,e,t){"use strict";cc._RF.push(e,"9ad55ivqjNPfanVT6Vms0ks","starScr"),cc.Class({extends:cc.Component,properties:{guankalabel:cc.Label},init:function(){var i=this.node.getChildByName("starnull").children,e=this.node.getChildByName("star").children,t=440;i[0].x=-220,e[0].x=-220,i[1].x=mapxingxing.step3/mapxingxing.maxstep*t-220,e[1].x=mapxingxing.step3/mapxingxing.maxstep*t-220,i[2].x=t*(mapxingxing.step3+mapxingxing.step2)/mapxingxing.maxstep-220,e[2].x=t*(mapxingxing.step3+mapxingxing.step2)/mapxingxing.maxstep-220,this.guankalabel.string=q_xuanzheguanka+1}}),cc._RF.pop()},{}],wxscr:[function(i,e,t){"use strict";cc._RF.push(e,"8b79fSPEVZCqLt9lY9Qx+3L","wxscr"),cc.Class({extends:cc.Component,properties:{thanknode:cc.Node,animation:cc.Animation,paihangnode:cc.Node,paihangbtnprab:cc.Prefab,paihangView:cc.Sprite,guankanode:cc.Node,helpnode:cc.Node,setnode:cc.Node},onLoad:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.tex=new cc.Texture2D,window.sharedCanvas.width=960,window.sharedCanvas.height=640)},start:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(gameclub?gameclub.show():gameclub=window.wx.createGameClubButton({icon:"green",style:{left:15,top:120,width:50,height:50}}))},fenxiang:function(){this.animation.off("finished",this.fenxiang,this),this.thanknode.active=!1,cc.sys.platform==cc.sys.WECHAT_GAME&&window.wx.shareAppMessage({title:"这游戏很好玩，快来和我一起玩吧",imageUrl:"https://myres-1256148877.cos.ap-chengdu.myqcloud.com/help/fenxiang.png"})},clickfenxiang:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&this.playanim()},playanim:function(){this.thanknode.active=!0;var i=this.animation.play("b2");i.repeatCount=3,i.speed=1,this.animation.on("finished",this.fenxiang,this)},onclosepaihang:function(){this.paihangnode.active=!1,this.helpnode.active=!0,this.setnode.active=!0,this.guankanode.active=!0},onclickpaihang:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.paihangnode.active=!0,this.helpnode.active=!1,this.setnode.active=!1,this.guankanode.active=!1,window.wx.postMessage({messageType:1}))},onclickxingxing:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&window.wx.postMessage({messageType:1})},onclickcaidan:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&window.wx.postMessage({messageType:2})},_updateSubDomainCanvas:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&this.paihangnode.active&&(this.tex.initWithElement(window.sharedCanvas),this.tex.handleLoadedTexture(),this.paihangView.spriteFrame=new cc.SpriteFrame(this.tex))},update:function(i){this._updateSubDomainCanvas()}}),cc._RF.pop()},{}],yuanscr:[function(i,e,t){"use strict";cc._RF.push(e,"fdd2aRswxJJJrIZnVO2hMUV","yuanscr"),cc.Class({extends:cc.Component,properties:{rigidbody:cc.RigidBody,phy:cc.PhysicsCircleCollider},init:function(i,e){1==e&&(this.rigidbody.type=cc.RigidBodyType.Dynamic,this.node.color=dycolor),this.phy.radius=i,this.node.width=2*i,this.node.height=2*i,this.phy.apply()},start:function(){}}),cc._RF.pop()},{}]},{},["Bianliang","Cameragensui","dragonBone","gameUIscr","gamewxscr","helpscr","starScr","Getbone","Girlscr","Grapscr","Hero","Loadmap","Moveto","Touchanim","guankascr","loadguanka","loadscr","paihangbtnscr","wxscr","one-side-platform","qudaoscr","yuanscr"]);