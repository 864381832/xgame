require=function i(n,c,s){function u(t,e){if(!c[t]){if(!n[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(m)return m(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var o=c[t]={exports:{}};n[t][0].call(o.exports,function(e){return u(n[t][1][e]||e)},o,o.exports,i,n,c,s)}return c[t].exports}for(var m="function"==typeof require&&require,e=0;e<s.length;e++)u(s[e]);return u}({AnimInAndOut:[function(e,t,r){"use strict";cc._RF.push(t,"0c73cXTEdFOEIiRT1cSAep1","AnimInAndOut"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onEnable:function(){this.node.opacity=0,this.node.setScale(0);var e=cc.fadeIn(.2),t=cc.scaleTo(.2,1);this.node.runAction(cc.spawn(e,t))},animateAndDestroy:function(){var e=this;if(!this.isDestroying){this.isDestroying=!0;var t=cc.fadeOut(.2),r=cc.scaleTo(.2,0),a=cc.callFunc(function(){e.node&&e.node.destroy()});this.node.runAction(cc.sequence(cc.spawn(t,r),a))}},animateAndDisable:function(){var e=this;if(!this.isDestroying){this.isDestroying=!0;var t=cc.fadeOut(.2),r=cc.scaleTo(.2,0),a=cc.callFunc(function(){e.node.active=!1});this.node.runAction(cc.sequence(cc.spawn(t,r),a))}}}),cc._RF.pop()},{}],AnimLayerTool:[function(e,t,r){"use strict";cc._RF.push(t,"dcf6e/4kv9KYrR4VIQPHtsC","AnimLayerTool");var p=e("CardSprite"),d=e("GameConfig"),s=e("GameTools"),u=e("GameUiTools"),m=d.DEVICE_WIDTH,l=d.DEVICE_HEIGHT,a={moveButtonAnimTime:.3,MoveButtonAnimType:{up:0,down:1,left:2,right:3,leftUp:4,leftDown:5,rightUp:6,rightDown:7},bottonAnim:function(e){var t=new Array;null==e.length?t[0]=e:t=e;for(var r=0;r<t.length;r++){var a=5*cc.random0To1()+1,o=t[r].height/20,i=cc.jumpBy(a,cc.p(o,0),o,1),n=cc.jumpBy(a,cc.p(-o,0),-o,1),c=cc.scaleBy(.3,1.1,.9),s=cc.delayTime(a),u=cc.sequence(i,n,c,c.reverse(),s);t[r].runAction(u.repeatForever())}},createShowMessageBox:function(e,t,r,a,o){},createShowMessageBoxAward:function(e,t){var r=new cc.Node;if(-1==t);else{if(t<6)return;r.addComponent(cc.Sprite).spriteFrame=t<8?u.getSpriteFrame("resources/pop_nopack/txt_good.png"):t<10?u.getSpriteFrame("resources/pop_nopack/txt_cool.png"):t<12?u.getSpriteFrame("resources/pop_nopack/txt_verygood.png"):t<14?u.getSpriteFrame("resources/pop_nopack/txt_smart.png"):u.getSpriteFrame("resources/pop_nopack/txt_boom.png")}s.playSimpleAudioEngine(3),r.setPosition(0,0),r.setOpacity(0),e.addChild(r,2e3,2e3);var a=cc.fadeIn(.5),o=cc.delayTime(1),i=cc.fadeOut(.5),n=cc.callFunc(this.callFuncAddScore,this,r),c=cc.sequence(a,o,i,n);r.runAction(c)},moveButtonAnim:function(e,t,r){var a=e.x,o=e.y,i=e.getContentSize();if(t){switch(r){case 0:e.setPosition(a,l+i.height);break;case 1:e.setPosition(a,-i.height);break;case 2:e.setPosition(-i.width,o);break;case 3:e.setPosition(m+i.width,o);break;case 4:e.setPosition(-i.width,l+i.height);break;case 5:e.setPosition(-i.width,-i.height);break;case 6:e.setPosition(m+i.width,l+i.height);break;case 7:e.setPosition(m+i.width,-i.height)}var n=cc.moveTo(this.moveButtonAnimTime,cc.p(a,o));e.runAction(n)}else{var c=void 0;switch(r){case 0:c=cc.moveTo(this.moveButtonAnimTime,cc.p(a,l+i.height));break;case 1:c=cc.moveTo(this.moveButtonAnimTime,cc.p(a,-i.height));break;case 2:c=cc.moveTo(this.moveButtonAnimTime,cc.p(-i.width,o));break;case 3:c=cc.moveTo(this.moveButtonAnimTime,cc.p(m+i.width,o));break;case 4:c=cc.moveTo(this.moveButtonAnimTime,cc.p(-i.width,l+i.height));break;case 5:c=cc.moveTo(this.moveButtonAnimTime,cc.p(-i.width,-i.height));break;case 6:c=cc.moveTo(this.moveButtonAnimTime,cc.p(m+i.width,l+i.height));break;case 7:c=cc.moveTo(this.moveButtonAnimTime,cc.p(m+i.width,-i.height))}e.runAction(c)}},createAddScore:function(e){var t=new cc.Node,r=t.addComponent(cc.Label);r.font=s.numberLabelAtlas,r.string=":"+e,t.setPosition(-46,505),t.setOpacity(100),d.GameScene.node.addChild(t);var a=cc.moveBy(.3,0,106),o=cc.fadeIn(.2),i=cc.spawn(a,o),n=cc.callFunc(this.callFuncAddScore,this,t);t.runAction(cc.sequence(i,n))},callFuncAddScore:function(e,t){e.destroy()},createScoreMoveAnim:function(e,t,r){if(0<t){var a=new cc.Node,o=a.addComponent(cc.Label);o.font=s.numberLabelAtlas,o.string=":"+t,a.setPosition(e.x,e.y),e.getParent().addChild(a,100,100);var i=cc.callFunc(this.callFuncScoreMoveAnim,this,a),n=null;(n=r?cc.moveTo(1,418,1048):cc.moveTo(1,101,930)).easing(cc.easeExponentialIn()),a.runAction(cc.sequence(n,i))}},callFuncScoreMoveAnim:function(e,t){d.GameLogic.setScore(),t.destroy()},createChangeCardNumAnim:function(e,t){var r=p.createCardSprite(e.getNumber(),e.getPositionX(),e.getPositionY());e.getParent().addChild(r,1,1),e.active=!1,e.setNumber(t),r.setNumber(t);var a=cc.scaleTo(.3,0);a.easing(cc.easeBackIn());var o=cc.scaleTo(.1,1),i=cc.callFunc(this.callFuncChangeCardNum1,this,r),n=cc.callFunc(this.callFuncChangeCardNum2,this,[r,e]),c=cc.sequence(a,i,o,n);r.runAction(c)},callFuncChangeCardNum1:function(e,t){t.CardShow()},callFuncChangeCardNum2:function(e,t){var r=t[0],a=t[1];a.CardShow(),a.active=!0,r.destroy()},createExchangeCardAnim:function(e,t,r){var a=e.getPositionX(),o=e.getPositionY(),i=d.CARD_WIDTH/(d.CAED_LINES+1),n=cc.scaleBy(.4,1.15),c=cc.sequence(n,n.reverse());if(0<t){var s=p.createCardSprite(-1,a-i-d.CARD_WIDTH,o);e.getParent().addChild(s,1,2001),s.runAction(c.clone().repeatForever())}if(t<d.CAED_LINES-1){var u=p.createCardSprite(-1,a+i+d.CARD_WIDTH,o);e.getParent().addChild(u,1,2002),u.runAction(c.clone().repeatForever())}if(0<r){var m=p.createCardSprite(-1,a,o-i-d.CARD_WIDTH);e.getParent().addChild(m,1,2003),m.runAction(c.clone().repeatForever())}if(r<d.CAED_LINES-1){var l=p.createCardSprite(-1,a,o+i+d.CARD_WIDTH);e.getParent().addChild(l,1,2004),l.runAction(c.clone().repeatForever())}},createRemoveExchangeCardAnim:function(e,t,r){0<t&&e.getParent().removeChildByTag(2001),t<d.CAED_LINES-1&&e.getParent().removeChildByTag(2002),0<r&&e.getParent().removeChildByTag(2003),r<d.CAED_LINES-1&&e.getParent().removeChildByTag(2004)},createScaleToCard:function(e){var t=p.createCardSprite(e.number,e.x,e.y);e.getParent().addChild(t,1,1),e.active=!1,t.setScale(0);var r=cc.scaleTo(.3,1);r.easing(cc.easeBackOut());var a=cc.callFunc(this.callFuncCard1,this,[t,e]);t.runAction(cc.sequence(r,a))},callFuncCard1:function(e,t){t[1].CardShow(),t[1].active=!0,t[0].destroy()},createMoveAnim:function(e,t,r){var a=p.createCardSprite(e.number,e.x,e.y);t.getParent().addChild(a,1,1);var o=cc.callFunc(this.callFuncCard2,this,[a,t,r]),i=cc.moveTo(.3,cc.p(t.x,t.y));i=cc.moveTo(.1,cc.p(t.x,t.y)),a.runAction(cc.sequence(i,o))},callFuncCard2:function(e,t){if(t[1].CardShow(),t[2]){t[0].number=t[1].number,t[0].CardShow();var r=cc.scaleBy(.02,1.15),a=cc.callFunc(this.callFuncCard3,this,t[0]);t[0].runAction(cc.sequence(r,r.reverse(),a))}else t[0].destroy()},callFuncCard3:function(e,t){t.destroy()},createPopStarAnim:function(e,t){var r=cc.callFunc(this.callFuncPopStarAnim,this,e);e.runAction(cc.sequence(cc.delayTime(t),r,cc.fadeOut()))},callFuncPopStarAnim:function(e,t){s.playSimpleAudioEngine(0);var r=new cc.Node;r.setPosition(t.getPosition());var a=r.addComponent(cc.ParticleSystem);switch(t.getNumber()){case 2:a.texture="res/raw-assets/resources/particals/noe/partical_tex_yellow.png";break;case 4:a.texture="res/raw-assets/resources/particals/noe/partical_tex_blue.png";break;case 8:a.texture="res/raw-assets/resources/particals/noe/partical_tex_green.png";break;case 16:a.texture="res/raw-assets/resources/particals/noe/partical_tex_red.png";break;case 32:a.texture="res/raw-assets/resources/particals/noe/partical_tex_purple.png"}a.startColor=cc.color(255,255,255,255),a.startColorVar=cc.color(0,0,0,0),a.endColorVar=cc.color(0,0,0,0),a.endColor=a.startColor,a.autoRemoveOnFinish=!0,a.duration=.1,a.emissionRate=100,a.life=2,a.lifeVar=.5,a.angle=90,a.angleVar=360,a.custom=!0,a.playOnLoad=!0,t.getParent().addChild(r,1e3,1e3)}};t.exports=a,cc._RF.pop()},{CardSprite:"CardSprite",GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools"}],CardSprite:[function(e,t,r){"use strict";cc._RF.push(t,"a4ef50jralNeI7oo4DmKqQv","CardSprite");var a=e("GameConfig"),c=(e("GameTools"),e("GameUiTools")),o=cc.Class({extends:cc.Node,properties:{cardSprite:null,number:0,isBox:!1,isSelect:!1,isFirstSelect:!1},ctor:function(){this.cardSprite=this.addComponent(cc.Sprite)},statics:{createCardSprite:function(e,t,r){var a=new o;return a.initCard(e,t,r),a}},initCard:function(e,t,r){.98<Math.random()&&(this.isBox=!0),this.number=e,this.CardShow(),this.setPosition(t,r),this.width=a.CARD_WIDTH,this.height=a.CARD_WIDTH,this.cardSprite.sizeMode=cc.Sprite.SizeMode.CUSTOM},CardShow:function(){1==this.number?this.cardSprite.spriteFrame=c.getSpriteFrame("resources/pop_game/barrier"):-1==this.number?this.cardSprite.spriteFrame=c.getSpriteFrame("resources/pop_game/popgame_61.png"):0==this.number?this.cardSprite.spriteFrame=c.getSpriteFrame("resources/pop_game/emptyl"):2<=this.number&&this.number<=131072&&(this.isBox?this.cardSprite.spriteFrame=c.getSpriteFrame("resources/pop_game/box"+this.number+".png"):this.cardSprite.spriteFrame=c.getSpriteFrame("resources/pop_game/n"+this.number+".png"))},setNumber:function(e){this.number=e},getNumber:function(){return this.number},CardClickShow:function(e){if(0==e)this.removeAllChildren(),this.isSelect=!1,this.isFirstSelect=!1;else{var t=cc.moveBy(.05,cc.v2(0,2));this.runAction(cc.sequence(t,t.reverse())),this.isSelect=!0;var r=new cc.Node;r.addComponent(cc.Sprite).spriteFrame=c.getSpriteFrame("resources/pop_game/popgame_61.png");var a=r.getContentSize().height,o=this.getContentSize().height/a;if(r.setScale(o),this.addChild(r),1==e){this.isFirstSelect=!0;var i=cc.scaleBy(.4,1.15),n=cc.sequence(i,i.reverse());r.runAction(n.repeatForever())}else 2==e&&r.setScale(o+.05)}},getIsSelect:function(){return this.isSelect},getIsFirstSelect:function(){return this.isFirstSelect},isVisible:function(){return 255==this.opacity},setVisible:function(e){this.opacity=e?255:0}});t.exports=o,cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameConfig:[function(e,t,r){"use strict";cc._RF.push(t,"f937eblcKFPZItT3ZuvdIyg","GameConfig");var a={LoadingSceneFirst:0,LoadingSceneEnterGame:1,LoadingSceneBackGame:2},o={MainMenuNumClassic:0,MainMenuNumPop:5,MainMenuNumPopStar:6,MainMenuSpace:7},i={PropsMenuBackout:0,PropsMenuDestroyCard:1,PropsMenuExchangeCard:2,PropsMenuShrinkNum:3,PropsMenuRemoveAcross:4,PropsMenuRemoveVertical:5,PropsMenuSpace:6},n={GameName:"一起消灭星星",GameClubButton:null,GameScene:null,GameLogic:null,LoadingSceneType:a,MainMenu:o,PropsMenu:i,DEVICE_WIDTH:720,DEVICE_HEIGHT:1280,CARD_WIDTH:0,CAED_LINES:4,MAIN_MENU_NUM:-1e3,loadingSceneType:a.LoadingSceneFirst,mainMenu:o.MainMenuSpace,propsMenu:i.PropsMenuSpace,IS_GAME_MUSIC:!0,IS_GAME_SHARE:!1,IS_GAME_OVER:!1,IS_GAME_WIN:!1};t.exports=n,cc._RF.pop()},{}],GameConnectUs:[function(e,t,r){"use strict";cc._RF.push(t,"98c4aZntMxKiZiEjgrKrmzj","GameConnectUs");e("GameConfig");var a=e("GameTools"),o=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backColor:cc.Node,backButton:cc.Node},onLoad:function(){o.setButtonClickEvents(this,this.backButton,"buttonFunc")},buttonFunc:function(e){var t=e.target;return this.backButton==t&&(a.playSimpleAudioEngine(0),this.node.destroy()),!0}}),cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameData:[function(e,t,r){"use strict";cc._RF.push(t,"9d75bPsk+FALqemqL/20DvJ","GameData");var i=e("GameConfig"),a=e("GameTools"),o={scoreCard0:[],scoreCard1:[],scoreCard2:[],scoreCard3:[],score0:0,score1:0,score2:0,score3:0,heightScore:0,bestNum:2,initData:function(){this.scoreCard0=new Array,this.scoreCard1=new Array,this.scoreCard2=new Array,this.scoreCard3=new Array;for(var e=0;e<i.CAED_LINES;e++)this.scoreCard0[e]=Array(),this.scoreCard1[e]=Array(),this.scoreCard2[e]=Array(),this.scoreCard3[e]=Array();this.score0=0,this.score1=0,this.score2=0,this.score3=0,this.heightScore=0,this.bestNum=2},getChallengeLevelNum:function(){return 7},getChallengeLevelData:function(e){return 0==e?"1000100000001000000010001":1==e?"1101110001000001000111011":2==e?"1100100001001001000010011":3==e?"0111000100000000010001110":4==e?"0001100001100011000011000":5==e?"0000000100011100010000000":6==e?"1000101010000000101010001":void 0},getGameData:function(e,t,r){return a.getItemByLocalStorage("gameData_"+i.MAIN_MENU_NUM+"_"+e+"_"+t+"_"+r,0)},setGameData:function(e,t,r,a){cc.sys.localStorage.setItem("gameData_"+i.MAIN_MENU_NUM+"_"+t+"_"+r+"_"+a,e)},getGameScoreData:function(e){return a.getItemByLocalStorage("score_"+i.MAIN_MENU_NUM+"_"+e,0)},setGameScoreData:function(e,t){cc.sys.localStorage.setItem("score_"+i.MAIN_MENU_NUM+"_"+t,e)},isHaveGameData:function(){return a.getItemByLocalStorage("isHaveGameData_"+i.MAIN_MENU_NUM,!1)},setHaveGameData:function(e){cc.sys.localStorage.setItem("isHaveGameData_"+i.MAIN_MENU_NUM,e)},getScoreNum:function(){return a.getItemByLocalStorage("ScoreNum_"+i.MAIN_MENU_NUM,0)},setScoreNum:function(e){cc.sys.localStorage.setItem("ScoreNum_"+i.MAIN_MENU_NUM,e)},getHeightScore:function(){return a.getItemByLocalStorage("BestScoreNum_"+i.MAIN_MENU_NUM,0)},setHeightScore:function(e){cc.sys.localStorage.setItem("BestScoreNum_"+i.MAIN_MENU_NUM,e)},getIsRecordHeightNum:function(e){return a.getItemByLocalStorage("isRecordHeightNum_"+i.MAIN_MENU_NUM+"_"+e,!1)},setIsRecordHeightNum:function(e,t){cc.sys.localStorage.setItem("isRecordHeightNum_"+i.MAIN_MENU_NUM+"_"+e,t)},setGameRewards:function(e){1024<=e&&!this.getIsRecordHeightNum(e)&&(a.playSimpleAudioEngine(3),this.setIsRecordHeightNum(e,!0));var t=0;switch(e){case 128:i.mainMenu!=i.MainMenu.MainMenuNumPop&&i.mainMenu!=i.MainMenu.MainMenuNumPopStar&&(t=4-i.CAED_LINES);break;case 256:t=i.mainMenu!=i.MainMenu.MainMenuNumPop&&i.mainMenu!=i.MainMenu.MainMenuNumPopStar?5-i.CAED_LINES:1;break;case 512:t=i.mainMenu!=i.MainMenu.MainMenuNumPop&&i.mainMenu!=i.MainMenu.MainMenuNumPopStar?6-i.CAED_LINES:2;break;case 1024:t=i.mainMenu!=i.MainMenu.MainMenuNumPop&&i.mainMenu!=i.MainMenu.MainMenuNumPopStar?7-i.CAED_LINES:3;break;case 2048:t=i.mainMenu!=i.MainMenu.MainMenuNumPop&&i.mainMenu!=i.MainMenu.MainMenuNumPopStar?8-i.CAED_LINES:4;break;case 4096:t=i.mainMenu!=i.MainMenu.MainMenuNumPop&&i.mainMenu!=i.MainMenu.MainMenuNumPopStar?9-i.CAED_LINES:5;break;case 8192:t=i.mainMenu!=i.MainMenu.MainMenuNumPop&&i.mainMenu!=i.MainMenu.MainMenuNumPopStar?10-i.CAED_LINES:6;break;case 16384:t=i.mainMenu!=i.MainMenu.MainMenuNumPop&&i.mainMenu!=i.MainMenu.MainMenuNumPopStar?11-i.CAED_LINES:7;break;case 65536:t=i.mainMenu!=i.MainMenu.MainMenuNumPop&&i.mainMenu!=i.MainMenu.MainMenuNumPopStar?12-i.CAED_LINES:8;break;case 131072:t=i.mainMenu!=i.MainMenu.MainMenuNumPop&&i.mainMenu!=i.MainMenu.MainMenuNumPopStar?13-i.CAED_LINES:9}return 0<t&&this.setGameIntegral(t),t},getGamePropNumber:function(e){return a.getItemByLocalStorage("gameProp"+e,0)},setGamePropNumber:function(e,t){a.setItemByLocalStorage("gameProp"+e,a.getItemByLocalStorage("gameProp"+e,0)+t)},getGameIntegral:function(){return a.getGameIntegral()},setGameIntegral:function(e){a.setGameIntegral(this.getGameIntegral()+e)},isGameHelp:function(){return a.getItemByLocalStorage("isGameHelp"+i.mainMenu,!1)},setGameHelp:function(e){cc.sys.localStorage.setItem("isGameHelp"+i.mainMenu,e)},getGamePassNum:function(){return a.getItemByLocalStorage("passNum"+i.mainMenu,1)},setGamePassNum:function(e){cc.sys.localStorage.setItem("passNum"+i.mainMenu,e)},getGamePassScore:function(){var e=o.getGamePassNum();return 1e3+1500*(e-1)+(e-1)*(e-1)*500},loadGameData:function(e){if(e){for(var t=0;t<i.CAED_LINES;t++)for(var r=0;r<i.CAED_LINES;r++){if(this.scoreCard0[t][r]=this.getGameData(0,t,r),this.bestNum=this.bestNum>this.scoreCard0[t][r]?this.bestNum:this.scoreCard0[t][r],this.checkGameData(this.scoreCard0[t][r]))return!0;this.scoreCard1[t][r]=this.getGameData(1,t,r),this.scoreCard2[t][r]=this.getGameData(2,t,r),this.scoreCard3[t][r]=this.getGameData(3,t,r)}this.scoreNum=this.getScoreNum(),this.score0=this.getGameScoreData(0),this.score1=this.getGameScoreData(1),this.score2=this.getGameScoreData(2),this.score3=this.getGameScoreData(3),i.IS_GAME_WIN=2048<=this.bestNum}else{this.setHeightScore(this.heightScore);for(var a=0;a<i.CAED_LINES;a++)for(var o=0;o<i.CAED_LINES;o++)this.setGameData(this.scoreCard0[a][o],0,a,o),this.setGameData(this.scoreCard1[a][o],1,a,o),this.setGameData(this.scoreCard2[a][o],2,a,o),this.setGameData(this.scoreCard3[a][o],3,a,o);this.setScoreNum(this.scoreNum),this.setGameScoreData(this.score0,0),this.setGameScoreData(this.score1,1),this.setGameScoreData(this.score2,2),this.setGameScoreData(this.score3,3),this.setHaveGameData(!0)}return!1},checkGameData:function(e){if(0==e)return!1;for(var t=1,r=1;r<25;r++){if(e==t)return!1;t*=2}return-1!=e}};t.exports=o,cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools"}],GameHelp:[function(e,t,r){"use strict";cc._RF.push(t,"92d33tkzdhLxrs4dxYAfPUo","GameHelp");e("GameConfig");var a=e("GameTools"),o=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backColor:cc.Node,backButton:cc.Node},onLoad:function(){o.setButtonClickEvents(this,this.backButton,"buttonFunc")},buttonFunc:function(e){var t=e.target;return this.backButton==t&&(a.playSimpleAudioEngine(0),this.node.destroy()),!0}}),cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameOver:[function(e,t,r){"use strict";cc._RF.push(t,"dec8fHCKaxKIrsVoVxgLzJp","GameOver");var a=e("GameConfig"),o=e("GameTools"),i=e("GameUiTools"),n=e("GameData");cc.Class({extends:cc.Component,properties:{backColor:cc.Node,backButton:cc.Node,reviveButton:cc.Node,videoAwardButton:cc.Node},onLoad:function(){o.submitScore(n.heightScore),n.heightScore>n.getHeightScore()&&n.setHeightScore(n.heightScore),i.setButtonClickEvents(this,this.backButton,"buttonFunc"),i.setButtonClickEvents(this,this.reviveButton,"buttonFunc"),i.setButtonClickEvents(this,this.videoAwardButton,"buttonFunc")},buttonFunc:function(e){var t=e.target;return this.reviveButton==t?(o.playSimpleAudioEngine(0),30<=n.getGameIntegral()?(a.IS_GAME_OVER=!1,a.GameLogic.backGame(),n.setGamePropNumber(0,1),n.setGamePropNumber(1,1),n.setGamePropNumber(2,1),n.setGameIntegral(-30),a.GameScene.setGamePropNumber(0),a.GameScene.setGamePropNumber(1),a.GameScene.setGamePropNumber(2),this.node.destroy(),a.IS_GAME_MUSIC&&o.playBackgroundMusic()):o.toastMessage(4)):this.backButton==t?(o.playSimpleAudioEngine(0),this.loadingResource()):this.videoAwardButton==t&&(o.playSimpleAudioEngine(0),o.toastMessage(3)),!0},loadingResource:function(){o.removeRankData(),n.setHaveGameData(!1),n.setGamePassNum(1),a.loadingSceneType=a.LoadingSceneType.LoadingSceneBackGame,a.mainMenu=a.MainMenu.MainMenuSpace,cc.director.loadScene("LoadingScene")}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GamePass:[function(e,t,r){"use strict";cc._RF.push(t,"96845POniBJCI0lyGy969Pc","GamePass");var a=e("GameConfig"),o=e("GameTools"),i=e("GameData"),n=e("GameUiTools");cc.Class({extends:cc.Component,properties:{passLabel:cc.Label,scoreLabel:cc.Label,nextPassButton:cc.Node,shareButton:cc.Node,backButton:cc.Node},onLoad:function(){this.passLabel.string="第  "+i.getGamePassNum()+"  关",this.scoreLabel.string=i.score0,n.setButtonClickEvents(this,this.nextPassButton,"buttonFunc"),n.setButtonClickEvents(this,this.shareButton,"buttonFunc"),n.setButtonClickEvents(this,this.backButton,"buttonFunc")},buttonFunc:function(e){var t=e.target;return this.shareButton==t?(o.playSimpleAudioEngine(0),o.sharePicture()):this.nextPassButton==t?(o.playSimpleAudioEngine(0),this.node.destroy(),a.GameLogic.autoCreateCardNumber()):this.backButton==t&&(o.playSimpleAudioEngine(0),a.GameLogic.autoCreateCardNumber(),a.GameLogic.saveMemoryInformation(),this.loadingResource()),!0},loadingResource:function(){a.loadingSceneType=a.LoadingSceneType.LoadingSceneBackGame,a.mainMenu=a.MainMenu.MainMenuSpace,cc.director.loadScene("LoadingScene")}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GamePopStar:[function(e,t,r){"use strict";cc._RF.push(t,"6a3ac4EJGJABo4T04pKYHlg","GamePopStar");var a=e("CardSprite"),c=e("GameConfig"),s=e("GameData"),u=e("AnimLayerTool"),i=e("GameTools"),m=e("GameUiTools"),o=cc.Class({extends:cc.Node,properties:{firstX:null,firstY:null,endX:null,endY:null,selectNumber:0,selectAmount:0,score:0,cardArr:null,firstClickNum:new Array},ctor:function(){this.x=-c.DEVICE_WIDTH/2,this.y=-c.DEVICE_HEIGHT/2,this.setContentSize(4*c.DEVICE_WIDTH,4*c.DEVICE_HEIGHT),this.init()},init:function(){this.cardArr=new Array;for(var e=0;e<c.CAED_LINES;e++)this.cardArr[e]=Array();this.firstClickNum[0]=-1,this.firstClickNum[1]=-1,this.initUI()},initUI:function(){if(this.on(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this),this.createCardSprite(),s.isHaveGameData()){this.score=s.score0;for(var e=0;e<c.CAED_LINES;e++)for(var t=0;t<c.CAED_LINES;t++)this.cardArr[e][t].number=s.scoreCard0[e][t],this.cardArr[e][t].CardShow(),1==s.scoreCard2[e][t]&&this.cardArr[e][t].setVisible(!1)}else{for(var r=0;r<c.CAED_LINES;r++)for(var a=0;a<c.CAED_LINES;a++)u.moveButtonAnim(this.cardArr[r][a],!0,u.MoveButtonAnimType.up);s.score0=0,s.score1=0,s.scoreNum=0;for(var o=this.score=0;o<c.CAED_LINES;o++)for(var i=0;i<c.CAED_LINES;i++)s.scoreCard3[o][i]=0,s.scoreCard2[o][i]=0,s.scoreCard1[o][i]=this.cardArr[o][i].number,s.scoreCard0[o][i]=this.cardArr[o][i].number}},onTouchBegan:function(e){var t=e.touch.getLocation(),r=e.getCurrentTarget();if(c.propsMenu!=c.PropsMenu.PropsMenuSpace)return r.GamePopStarProperty(t),!1;if(0==r.selectAmount){for(var a=0;a<c.CAED_LINES;a++)for(var o=0;o<c.CAED_LINES;o++)r.cardArr[a][o].isVisible()&&r.cardArr[a][o].getBoundingBoxToWorld().contains(t)&&(i.playSimpleAudioEngine(1),r.cardArr[a][o].CardClickShow(1),r.inspectionSelect(a,o));r.cardVanish()}return!0},GamePopStarProperty:function(e){for(var t=0;t<c.CAED_LINES;t++)for(var r=0;r<c.CAED_LINES;r++)if(this.cardArr[t][r].isVisible()&&this.cardArr[t][r].getBoundingBoxToWorld().contains(e)){if(i.playSimpleAudioEngine(0),c.propsMenu==c.PropsMenu.PropsMenuDestroyCard)return this.cardArr[t][r].setVisible(!1),this.cardVanishAni(0),s.setGamePropNumber(0,-1),c.GameScene.setGamePropNumber(0),void(c.propsMenu=c.PropsMenu.PropsMenuSpace);if(c.propsMenu==c.PropsMenu.PropsMenuExchangeCard){if(-1==this.firstClickNum[0])this.firstClickNum[0]=t,this.firstClickNum[1]=r,0<t&&this.cardArr[t-1][r].isVisible()&&this.cardArr[t-1][r].CardClickShow(1),t<c.CAED_LINES-1&&this.cardArr[t+1][r].isVisible()&&this.cardArr[t+1][r].CardClickShow(1),0<r&&this.cardArr[t][r-1].isVisible()&&this.cardArr[t][r-1].CardClickShow(1),r<c.CAED_LINES-1&&this.cardArr[t][r+1].isVisible()&&this.cardArr[t][r+1].CardClickShow(1);else{if(1==Math.abs(t-this.firstClickNum[0])&&r-this.firstClickNum[1]==0||t-this.firstClickNum[0]==0&&1==Math.abs(r-this.firstClickNum[1])){this.cancelSelect(),u.createMoveAnim(this.cardArr[t][r],this.cardArr[this.firstClickNum[0]][this.firstClickNum[1]],!0),u.createMoveAnim(this.cardArr[this.firstClickNum[0]][this.firstClickNum[1]],this.cardArr[t][r],!0);var a=this.cardArr[t][r].getNumber();this.cardArr[t][r].setNumber(this.cardArr[this.firstClickNum[0]][this.firstClickNum[1]].getNumber()),this.cardArr[this.firstClickNum[0]][this.firstClickNum[1]].setNumber(a),this.firstClickNum[0]=-1,this.firstClickNum[1]=-1,s.setGamePropNumber(2,-1),c.GameScene.setGamePropNumber(2),this.cardVanishAni(0)}else this.firstClickNum[0]=-1,this.firstClickNum[1]=-1,this.cancelSelect();c.propsMenu=c.PropsMenu.PropsMenuSpace}return}if(c.propsMenu==c.PropsMenu.PropsMenuRemoveAcross){for(var o=0;o<c.CAED_LINES;o++)u.callFuncPopStarAnim(null,this.cardArr[o][r]),this.cardArr[o][r].setVisible(!1),u.callFuncPopStarAnim(null,this.cardArr[t][o]),this.cardArr[t][o].setVisible(!1);return s.setGamePropNumber(1,-1),c.GameScene.setGamePropNumber(1),this.cardVanishAni(0),void(c.propsMenu=c.PropsMenu.PropsMenuSpace)}}-1!=this.firstClickNum[0]&&(this.cancelSelect(),this.firstClickNum[0]=-1,this.firstClickNum[1]=-1),c.propsMenu=c.PropsMenu.PropsMenuSpace},cardVanishAni:function(e){this.doDown(),this.doLeft(),this.doCheck(0),this.selectAmount=0},cancelSelect:function(){for(var e=0;e<c.CAED_LINES;e++)for(var t=0;t<c.CAED_LINES;t++)this.cardArr[e][t].getIsSelect()&&this.cardArr[e][t].CardClickShow(0);this.selectAmount=0},cardVanish:function(){if(2<=this.selectAmount){for(var e=void 0,t=void 0,r=0,a=0;a<c.CAED_LINES;a++)for(var o=0;o<c.CAED_LINES;o++)this.cardArr[a][o].getIsFirstSelect()&&(e=a,t=o),this.cardArr[a][o].getIsSelect()&&(this.cardArr[a][o].CardClickShow(0),this.cardArr[a][o].isBox&&(this.cardArr[a][o].isBox=!1,m.loadingLayer("panel/GamePropBox")),u.createPopStarAnim(this.cardArr[a][o],.1*r++));this.score=this.score+this.selectAmount*this.selectAmount*5,u.createScoreMoveAnim(this.cardArr[e][t],this.selectAmount*this.selectAmount*5,!1),u.createShowMessageBoxAward(this.getParent(),this.selectAmount);var i=s.setGameRewards(this.selectNumber);u.createScoreMoveAnim(this.cardArr[e][t],i,!0),m.scheduleOnce(this,this.cardVanishAni,.1*r)}else this.cancelSelect();return!1},inspectionSelect:function(e,t){this.cardArr[e][t].CardClickShow(2),this.selectAmount++,this.selectNumber=this.cardArr[e][t].getNumber(),1<=e&&this.cardArr[e-1][t].isVisible()&&!this.cardArr[e-1][t].getIsSelect()&&this.selectNumber==this.cardArr[e-1][t].getNumber()&&this.inspectionSelect(e-1,t),t<c.CAED_LINES-1&&this.cardArr[e][t+1].isVisible()&&!this.cardArr[e][t+1].getIsSelect()&&this.selectNumber==this.cardArr[e][t+1].getNumber()&&this.inspectionSelect(e,t+1),e<c.CAED_LINES-1&&this.cardArr[e+1][t].isVisible()&&!this.cardArr[e+1][t].getIsSelect()&&this.selectNumber==this.cardArr[e+1][t].getNumber()&&this.inspectionSelect(e+1,t),1<=t&&this.cardArr[e][t-1].isVisible()&&!this.cardArr[e][t-1].getIsSelect()&&this.selectNumber==this.cardArr[e][t-1].getNumber()&&this.inspectionSelect(e,t-1)},doDown:function(){for(var e=!1,t=0;t<c.CAED_LINES;t++)for(var r=0;r<c.CAED_LINES;r++)for(var a=r+1;a<c.CAED_LINES;a++)if(this.cardArr[t][a].isVisible()){this.cardArr[t][r].isVisible()||(this.cardArr[t][a].isBox&&(this.cardArr[t][a].isBox=!1,this.cardArr[t][r].isBox=!0),u.createMoveAnim(this.cardArr[t][a],this.cardArr[t][r],!1),this.cardArr[t][r].setNumber(this.cardArr[t][a].getNumber()),this.cardArr[t][r].setVisible(!0),this.cardArr[t][a].setVisible(!1),this.cardArr[t][a].CardShow(),r--,e=!0);break}return e},doLeft:function(){for(var e=!1,t=0;t<c.CAED_LINES;t++)for(var r=t+1;r<c.CAED_LINES;r++)if(this.cardArr[r][0].isVisible()){if(!this.cardArr[t][0].isVisible()){for(var a=0;a<c.CAED_LINES;a++)this.cardArr[r][a].isBox&&(this.cardArr[r][a].isBox=!1,this.cardArr[t][a].isBox=!0),this.cardArr[r][a].isVisible()&&u.createMoveAnim(this.cardArr[r][a],this.cardArr[t][a],!1),this.cardArr[t][a].setNumber(this.cardArr[r][a].getNumber()),this.cardArr[t][a].setVisible(this.cardArr[r][a].isVisible()),this.cardArr[r][a].setVisible(!1),this.cardArr[r][a].CardShow();t--,e=!0}break}return e},createCardSprite:function(){for(var e=0;e<c.CAED_LINES;e++)for(var t=0;t<c.CAED_LINES;t++){var r=a.createCardSprite(this.randomCreateCardNumber(),c.CARD_WIDTH*e+c.CARD_WIDTH/2,c.CARD_WIDTH*t+c.DEVICE_HEIGHT/8);this.cardArr[e][t]=r,this.addChild(r,e,t)}},randomCreateCardNumber:function(){var e=5*cc.random0To1();return Math.pow(2,Math.floor(e)+1)},autoCreateCardNumber:function(e){for(var t=0;t<c.CAED_LINES;t++)for(var r=0;r<c.CAED_LINES;r++)this.cardArr[t][r].setVisible(!0),this.cardArr[t][r].setNumber(this.randomCreateCardNumber()),this.cardArr[t][r].CardShow(),u.moveButtonAnim(this.cardArr[t][r],!0,u.MoveButtonAnimType.up);s.setGamePassNum(s.getGamePassNum()+1),c.GameScene.setPassNum(),c.GameScene.progressBar.scaleX=0,m.scheduleOnce(this,this.doCheck,.15)},setScore:function(){c.GameScene.setScore(this.score)},doCheck:function(e){this.saveMemoryInformation();for(var t=!0,r=0;r<c.CAED_LINES;r++)for(var a=0;a<c.CAED_LINES;a++)if(this.cardArr[a][r].isVisible()){if(a<c.CAED_LINES-1&&this.cardArr[a+1][r].isVisible()&&this.cardArr[a+1][r].getNumber()==this.cardArr[a][r].getNumber()){t=!1;break}if(r<c.CAED_LINES-1&&this.cardArr[a][r+1].isVisible()&&this.cardArr[a][r+1].getNumber()==this.cardArr[a][r].getNumber()){t=!1;break}}else!1;if(t){for(var o=0,i=0;i<c.CAED_LINES;i++)for(var n=0;n<c.CAED_LINES;n++)this.cardArr[i][n].isVisible()&&(o<5?u.createPopStarAnim(this.cardArr[i][n],.5*++o):u.createPopStarAnim(this.cardArr[i][n],.5*o));o<5&&(this.score=this.score+(5-o)*(5-o)*5,u.createScoreMoveAnim(this.cardArr[2][2],(5-o)*(5-o)*5,!1)),this.score<s.getGamePassScore()?m.scheduleOnce(this,this.gameOver,1+.5*o):(u.createShowMessageBoxAward(this.getParent(),-1),m.scheduleOnce(this,this.gamePass,1+.5*o))}},gamePass:function(){m.loadingLayer("panel/GamePass")},gameOver:function(e){c.IS_GAME_OVER=!0,m.loadingLayer("panel/GameOver")},backGame:function(){if(1==s.scoreNum){for(var e=0;e<c.CAED_LINES;e++)for(var t=0;t<c.CAED_LINES;t++)this.cardArr[e][t].setNumber(s.scoreCard1[e][t]),this.cardArr[e][t].CardShow(),1==s.scoreCard3[e][t]?this.cardArr[e][t].setVisible(!1):this.cardArr[e][t].setVisible(!0);this.score=s.score1,s.scoreNum=0,s.score0=s.score1;for(var r=0;r<c.CAED_LINES;r++)for(var a=0;a<c.CAED_LINES;a++)s.scoreCard2[r][a]=s.scoreCard3[r][a],s.scoreCard0[r][a]=s.scoreCard1[r][a];this.setScore()}else i.toastMessage(4)},saveMemoryInformation:function(){0==s.scoreNum&&(s.scoreNum=1),s.score1=s.score0,s.score0=this.score;for(var e=0;e<c.CAED_LINES;e++)for(var t=0;t<c.CAED_LINES;t++)s.scoreCard3[e][t]=s.scoreCard2[e][t],s.scoreCard2[e][t]=this.cardArr[e][t].isVisible()?0:1,s.scoreCard1[e][t]=s.scoreCard0[e][t],s.scoreCard0[e][t]=this.cardArr[e][t].getNumber(),s.bestNum=s.bestNum>this.cardArr[e][t].getNumber()?s.bestNum:this.cardArr[e][t].getNumber()}});t.exports=o,cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",CardSprite:"CardSprite",GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GamePropBox:[function(e,t,r){"use strict";cc._RF.push(t,"e8057ZEIUZCtqK3UmkJCrv/","GamePropBox");var a=e("GameConfig"),o=e("GameTools"),i=e("GameData"),n=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backColor:cc.Node,backButton:cc.Node,getPropButton:cc.Node},onLoad:function(){n.setButtonClickEvents(this,this.backButton,"buttonFunc"),n.setButtonClickEvents(this,this.getPropButton,"buttonFunc")},buttonFunc:function(e){var t=this,r=e.target;return this.backButton==r?(o.playSimpleAudioEngine(0),this.node.destroy()):this.getPropButton==r&&(o.playSimpleAudioEngine(0),o.sharePicture("getProp",function(){var e=Math.floor(3*Math.random());i.setGamePropNumber(e,1),a.GameScene.setGamePropNumber(e),o.toastMessage(5),t.node.destroy()})),!0}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GamePropHelp:[function(e,t,r){"use strict";cc._RF.push(t,"14994fnx85J5J1PEYcF4MrT","GamePropHelp");var a=e("GameConfig"),o=e("GameTools"),i=e("GameData"),n=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backColor:cc.Node,title:cc.Sprite,propType:cc.Sprite,helpText:cc.Label,backButton:cc.Node,getPropButton:cc.Node},onLoad:function(){n.setButtonClickEvents(this,this.backButton,"buttonFunc"),n.setButtonClickEvents(this,this.getPropButton,"buttonFunc")},setPropType:function(e){0==(this.propTypeNumber=e)?(this.title.spriteFrame=n.getSpriteFrame("resources/pop_game/popgame_46.png"),this.propType.spriteFrame=n.getSpriteFrame("resources/pop_game/popgame_25.png"),this.helpText.string="敲碎你不想要的星星"):1==e?(this.title.spriteFrame=n.getSpriteFrame("resources/pop_game/popgame_38.png"),this.propType.spriteFrame=n.getSpriteFrame("resources/pop_game/popgame_31.png"),this.helpText.string="可炸掉选中的横排和竖排的星星"):2==e&&(this.title.spriteFrame=n.getSpriteFrame("resources/pop_game/popgame_57.png"),this.propType.spriteFrame=n.getSpriteFrame("resources/pop_game/popgame_30.png"),this.helpText.string="点击星星，可和周围星星交换")},buttonFunc:function(e){var t=this,r=e.target;return this.backButton==r?(o.playSimpleAudioEngine(0),this.node.destroy()):this.getPropButton==r&&(o.playSimpleAudioEngine(0),o.sharePicture("getProp",function(){i.setGamePropNumber(t.propTypeNumber,1),a.GameScene.setGamePropNumber(t.propTypeNumber),t.node.destroy()})),!0}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GamePropNode:[function(e,t,r){"use strict";cc._RF.push(t,"baa95mizZVN5pOs1SeqB98u","GamePropNode");e("GameConfig"),e("GameTools");var a=e("GameData"),o=e("GameUiTools");cc.Class({extends:cc.Component,properties:{propType:cc.Sprite,porpNumberLabel:cc.Label,porpNumberNode:cc.Node,addNode:cc.Node,propTypeNumber:0},onLoad:function(){0==this.propTypeNumber?this.propType.spriteFrame=o.getSpriteFrame("resources/pop_game/popgame_25.png"):1==this.propTypeNumber?this.propType.spriteFrame=o.getSpriteFrame("resources/pop_game/popgame_31.png"):2==this.propTypeNumber&&(this.propType.spriteFrame=o.getSpriteFrame("resources/pop_game/popgame_30.png")),this.setPropType()},setPropType:function(){0<a.getGamePropNumber(this.propTypeNumber)?(this.porpNumberNode.active=!0,this.porpNumberLabel.string=a.getGamePropNumber(this.propTypeNumber),this.addNode.active=!1):(this.porpNumberNode.active=!1,this.addNode.active=!0)}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameScene:[function(e,t,r){"use strict";cc._RF.push(t,"b71benT1ABC0aPZ2HVTgCte","GameScene");var a=e("GamePopStar"),o=e("GameData"),i=e("GameTools"),n=e("GameUiTools"),c=e("GameConfig");e("AnimLayerTool"),cc.Class({extends:cc.Component,properties:{layerBack:cc.Sprite,backButton:cc.Node,cardNumberTTF:cc.Label,bestScoreTTF:cc.Label,progressBar:cc.Node,passNumTTF:cc.Label,videoAwardButton:cc.Node,propMenu:[cc.Node],currentScore:0,isAddScore:!1,gameLogicLayer:cc.Node},ctor:function(){c.GameScene=this,i.playBackgroundMusic()},onLoad:function(){c.GameLogic=new a,this.gameLogicLayer.addChild(c.GameLogic),this.currentScore=o.score0,this.cardNumberTTF.string=o.score0,this.bestScoreTTF.string=o.getGamePassScore(),this.passNumTTF.string="第 "+o.getGamePassNum()+" 关",n.setButtonClickEvents(this,this.backButton,"backButtonFunc"),n.setButtonClickEvents(this,this.videoAwardButton,"videoAwardButtonFunc"),n.setButtonClickEvents(this,this.propMenu,"functionMenuTouchFunc")},start:function(){},backButtonFunc:function(e){i.playSimpleAudioEngine(0),this.loadingResource()},videoAwardButtonFunc:function(e){i.playSimpleAudioEngine(0),i.toastMessage(3)},functionMenuTouchFunc:function(e){i.playSimpleAudioEngine(0);var t=e.target;this.propMenu[0]==t?1<=o.getGamePropNumber(0)?c.propsMenu=c.PropsMenu.PropsMenuDestroyCard:(this.showGamePropHelp(0),c.propsMenu=c.PropsMenu.PropsMenuSpace):this.propMenu[1]==t?1<=o.getGamePropNumber(1)?c.propsMenu=c.PropsMenu.PropsMenuRemoveAcross:(this.showGamePropHelp(1),c.propsMenu=c.PropsMenu.PropsMenuSpace):this.propMenu[2]==t?1<=o.getGamePropNumber(2)?c.propsMenu=c.PropsMenu.PropsMenuExchangeCard:(this.showGamePropHelp(2),c.propsMenu=c.PropsMenu.PropsMenuSpace):c.propsMenu=c.PropsMenu.PropsMenuSpace},showGamePropHelp:function(a){cc.loader.loadRes("panel/GamePropHelp",function(e,t){var r=cc.instantiate(t);r.getComponent("GamePropHelp").setPropType(a),cc.director.getScene().children[0].addChild(r)})},setGamePropNumber:function(e){this.propMenu[e].getComponent("GamePropNode").setPropType()},setScore:function(e){this.currentScore>e?(this.currentScore=e,this.cardNumberTTF.string=this.currentScore):this.isAddScore=!0,e>o.heightScore&&(o.heightScore=e),this.progressBar.scaleX=e/o.getGamePassScore()*.8,.9<this.progressBar.scaleX&&(this.progressBar.scaleX=.9)},update:function(e){this.isAddScore&&this.currentScore<=o.score0?(this.cardNumberTTF.string=this.currentScore++,this.currentScore++):this.isAddScore=!1},setPassNum:function(){this.passNumTTF.string="第 "+o.getGamePassNum()+" 关",this.bestScoreTTF.string=o.getGamePassScore()},loadingResource:function(){i.stopBackgroundMusic(),c.loadingSceneType=c.LoadingSceneType.LoadingSceneBackGame,cc.director.loadScene("LoadingScene")}});cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameData:"GameData",GamePopStar:"GamePopStar",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameTools:[function(e,t,r){"use strict";cc._RF.push(t,"415acQw6oNBeo2WRVLPUaoS","GameTools");var a=e("GameConfig"),o={love2048FrameCache:null,numberLabelAtlas:null,backMusicIsPlay:null,menuUiMusicIsPlay:null,playSimpleAudioEngine:function(e){if(a.IS_GAME_MUSIC)switch(e){case 0:cc.audioEngine.play(cc.url.raw("resources/sounds/pop_star.mp3"),!1,.5);break;case 1:cc.audioEngine.play(cc.url.raw("resources/sounds/select.mp3"),!1,.5);break;case 2:cc.audioEngine.play(cc.url.raw("resources/sounds/landing.mp3"),!1,.5);break;case 3:cc.audioEngine.play(cc.url.raw("resources/sounds/cheers.mp3"),!1,.5)}},playBackgroundMusic:function(){a.IS_GAME_MUSIC&&null==o.backMusicIsPlay&&(o.backMusicIsPlay=cc.audioEngine.play(cc.url.raw("resources/sounds/backMusic.mp3"),!0,.5))},stopBackgroundMusic:function(){null!=o.backMusicIsPlay&&(cc.audioEngine.stop(o.backMusicIsPlay),o.backMusicIsPlay=null)},playMenuUiMusic:function(){a.IS_GAME_MUSIC&&null==o.menuUiMusicIsPlay&&(o.menuUiMusicIsPlay=cc.audioEngine.play(cc.url.raw("resources/sounds/menuUiMusic.mp3"),!0,.5))},stopMenuUiMusic:function(){null!=o.menuUiMusicIsPlay&&(cc.audioEngine.stop(o.menuUiMusicIsPlay),o.menuUiMusicIsPlay=null)},getItemByLocalStorage:function(e,t){var r=cc.sys.localStorage.getItem(e);return null==r||""===r?(cc.sys.localStorage.setItem(e,t),t):"boolean"==typeof t?"boolean"==typeof r?r:"true"==r:"number"==typeof t?Number(r):r},setItemByLocalStorage:function(e,t){cc.sys.localStorage.setItem(e,t)},toastMessage:function(a){cc.loader.loadRes("panel/ShowMessage",function(e,t){if(!e){var r=cc.instantiate(t);r.getComponent(cc.Component).setMessage(a),cc.director.getScene().children[0].addChild(r)}})},sharePicture:function(e,t){var r="来跟我一起挑战消灭星星。";this.toastMessage(2),cc.log("执行了截图"+r)},getGameIntegral:function(){return this.getItemByLocalStorage("GameIntegral",0)},setGameIntegral:function(e){cc.sys.localStorage.setItem("GameIntegral",e)},commentGame:function(){this.toastMessage(1),cc.log("执行了评论")},checkFirstLoginGame:function(){var e=this,t=Math.floor(((new Date).getTime()-new Date(2018,3,18,0,0,0,0).getTime())/864e5);t>this.getItemByLocalStorage("FirstEnterGameDate",0)&&(cc.sys.localStorage.setItem("FirstEnterGameDate",t),setTimeout(function(){e.setGameIntegral(e.getGameIntegral()+100)},1500))},setCardBackPath:function(e){},userLogin:function(){},getRankData:function(a){cc.loader.loadRes("panel/RankingListView",function(e,t){if(!e){var r=cc.instantiate(t);null!=a&&(r.getComponent(cc.Component).shareTicket=a),cc.director.getScene().children[0].addChild(r)}})},removeRankData:function(){cc.log("移除排行榜数据。")},submitScore:function(e){cc.log("提交得分:"+a.MAIN_MENU_NUM+" : "+e)},getSelectAddNum:function(e){return e=e<4?2:e<8?4:e<16?8:e<32?16:e<64?32:e<128?64:e<256?128:e<512?256:e<1024?512:e<2048?1024:e<4096?2048:e<8192?4096:e<16384?8192:e<32768?16384:e<65536?32768:e<131072?65536:131072}};t.exports=o,cc._RF.pop()},{GameConfig:"GameConfig"}],GameUiTools:[function(e,t,r){"use strict";cc._RF.push(t,"6633adSwotPR4cUtDy9WXUH","GameUiTools");e("GameConfig");var a=e("GameTools"),o={getSpriteFrame:function(e){return new cc.SpriteFrame(cc.url.raw(e))},newSprite:function(e,t){var r=new cc.Node;return t?(e=e.split(".")[0],r.addComponent(cc.Sprite).spriteFrame=a.love2048FrameCache.getSpriteFrame(e)):r.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame("res/raw-assets/resources/"+e),r},setNodeSpriteFrame:function(e,t){e.getComponent(cc.Sprite).spriteFrame=a.love2048FrameCache.getSpriteFrame(t)},setButtonClickEvents:function(e,t,r,a,o){var i=new Array;null==t.length?i[0]=t:i=t;for(var n=0;n<i.length;n++){var c=new cc.Component.EventHandler;c.target=e.node,c.component=e.node.name,c.handler=r,null==t.length?c.customEventData=a:c.customEventData=n;var s=i[n].addComponent(cc.Button);s.clickEvents.push(c),(null==o||o)&&(s.transition=cc.Button.Transition.SCALE,s.duration=.1,s.zoomScale=1.2)}},setSecondSetMenuSpriteFram:function(e,t){e.getChildren()[0].getComponent(cc.Sprite).spriteFrame=a.love2048FrameCache.getSpriteFrame(t?"menuRight":"menuClose")},addCloseSprite:function(e){var t=new cc.Node;t.addComponent(cc.Sprite).spriteFrame=a.love2048FrameCache.getSpriteFrame("menuClose"),e.addChild(t)},scheduleOnce:function(e,t,r){e.runAction(cc.sequence(cc.delayTime(r),cc.callFunc(t,e)))},loadingScene:function(a,e){e?cc.loader.loadRes("panel/LoadingLayer",function(e,t){var r=cc.instantiate(t);cc.director.getScene().children[0].addChild(r),cc.director.preloadScene(a,function(){cc.director.loadScene(a)})}):cc.director.preloadScene(a,function(){cc.director.loadScene(a)})},loadingLayer:function(e){cc.loader.loadRes(e,function(e,t){if(!e){var r=cc.instantiate(t);cc.director.getScene().children[0].addChild(r)}})}};t.exports=o,cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools"}],LoadingScene:[function(e,t,r){"use strict";cc._RF.push(t,"fa66dpbqYROFqRT9GK3/WP2","LoadingScene");var a=e("GameData"),o=e("GameTools"),i=(e("GameUiTools"),e("GameConfig"));e("AnimLayerTool");cc.Class({extends:cc.Component,properties:{},start:function(){var e=this;setTimeout(function(){e.loadingResource()},10)},loadingResource:function(){i.loadingSceneType==i.LoadingSceneType.LoadingSceneFirst?(i.IS_GAME_MUSIC=o.getItemByLocalStorage("IS_GAME_MUSIC",!0),this.initFrameCache(),this.initWxSetting()):i.loadingSceneType==i.LoadingSceneType.LoadingSceneEnterGame?(i.IS_GAME_OVER=!1,a.initData(),a.heightScore=a.getHeightScore(),a.isHaveGameData()&&(a.loadGameData(!0)||a.heightScore<0||1073741824<a.heightScore)&&(a.setHaveGameData(!1),a.heightScore=0,a.setHeightScore(0))):i.loadingSceneType==i.LoadingSceneType.LoadingSceneBackGame&&(i.IS_GAME_OVER||a.loadGameData(!1)),i.loadingSceneType==i.LoadingSceneType.LoadingSceneFirst?cc.director.preloadScene("MenuUI",function(){cc.director.loadScene("MenuUI")}):i.loadingSceneType==i.LoadingSceneType.LoadingSceneEnterGame?cc.director.preloadScene("GameScene",function(){cc.director.loadScene("GameScene")}):i.loadingSceneType==i.LoadingSceneType.LoadingSceneBackGame&&cc.director.preloadScene("MenuUI",function(){cc.director.loadScene("MenuUI")})},initFrameCache:function(){cc.loader.loadRes("number",cc.LabelAtlas,function(e,t){o.numberLabelAtlas=t})},initWxSetting:function(){}}),cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],MenuUI:[function(e,t,r){"use strict";cc._RF.push(t,"5c2b5VzgPNHI4Chk6xcuhIS","MenuUI");var a=e("GameTools"),o=e("GameUiTools"),i=e("GameConfig"),n=e("GameData");e("AnimLayerTool");cc.Class({extends:cc.Component,properties:{layerBack:cc.Node,startGameButton:cc.Node,musicButton:cc.Node,bestScoreLabel:cc.Label,gameIntegral:cc.Label,rankButton:cc.Node,shareButton:cc.Node,shareAddGoldButton:cc.Node,shareButton2:cc.Node,helpButton:cc.Node,lxwmButton:cc.Node,videoAwardButton:cc.Node},onLoad:function(){o.setButtonClickEvents(this,this.startGameButton,"startGameButtonFunc"),o.setButtonClickEvents(this,this.musicButton,"musicButtonFunc"),o.setButtonClickEvents(this,this.rankButton,"rankButtonFunc"),o.setButtonClickEvents(this,this.shareButton,"shareButtonFunc"),o.setButtonClickEvents(this,this.shareAddGoldButton,"shareButtonFunc"),o.setButtonClickEvents(this,this.shareButton2,"shareButtonFunc"),o.setButtonClickEvents(this,this.helpButton,"helpButtonFunc"),o.setButtonClickEvents(this,this.lxwmButton,"lxwmButtonFunc"),o.setButtonClickEvents(this,this.videoAwardButton,"videoAwardButtonFunc"),i.IS_GAME_MUSIC||(this.musicButton.getComponent(cc.Sprite).spriteFrame=o.getSpriteFrame("resources/pop_main/popmain_78.png")),this.bestScoreLabel.string=n.getHeightScore(),this.gameIntegral.string=a.getGameIntegral(),a.playMenuUiMusic()},start:function(){0},startGameButtonFunc:function(e,t){a.playSimpleAudioEngine(0),this.loadingResource()},musicButtonFunc:function(){a.playSimpleAudioEngine(0),i.IS_GAME_MUSIC=!i.IS_GAME_MUSIC,a.setItemByLocalStorage("IS_GAME_MUSIC",i.IS_GAME_MUSIC),i.IS_GAME_MUSIC?(a.playMenuUiMusic(),this.musicButton.getComponent(cc.Sprite).spriteFrame=o.getSpriteFrame("resources/pop_main/popmain_58.png")):(a.stopMenuUiMusic(),this.musicButton.getComponent(cc.Sprite).spriteFrame=o.getSpriteFrame("resources/pop_main/popmain_78.png"))},rankButtonFunc:function(e){a.playSimpleAudioEngine(0),a.getRankData()},shareButtonFunc:function(e){a.playSimpleAudioEngine(0);var t=e.target;this.shareButton==t?a.sharePicture():this.shareAddGoldButton==t?a.sharePicture("shareAddGold"):this.shareButton2==t&&a.sharePicture()},helpButtonFunc:function(e){a.playSimpleAudioEngine(0),o.loadingLayer("panel/GameHelp")},lxwmButtonFunc:function(e){a.playSimpleAudioEngine(0),o.loadingLayer("panel/GameConnectUs")},videoAwardButtonFunc:function(e){a.playSimpleAudioEngine(0),a.toastMessage(3)},loadingResource:function(){i.CAED_LINES=10,i.MAIN_MENU_NUM=11,i.mainMenu=i.MainMenu.MainMenuNumPopStar,i.CARD_WIDTH=i.DEVICE_WIDTH/i.CAED_LINES,i.loadingSceneType=i.LoadingSceneType.LoadingSceneEnterGame,cc.director.loadScene("LoadingScene")},onDestroy:function(){a.stopMenuUiMusic()}}),cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],RankingListView:[function(e,t,r){"use strict";cc._RF.push(t,"31b56tJWjpPlrcCAXTwiyUM","RankingListView");var a=e("GameConfig"),o=(e("AnimLayerTool"),e("GameTools")),i=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backButton:cc.Node,rankingScrollView:cc.Sprite,shareTicket:null},onLoad:function(){},start:function(){if(i.setButtonClickEvents(this,this.backButton,"backButtonFunc"),null!=this.shareTicket){var e=new cc.Node;e.addComponent(cc.Label).string="群排行",e.setPosition(-260,503),this.node.addChild(e)}var t=new cc.Node;t.addComponent(cc.Label).string="暂无排行榜数据",this.node.addChild(t),cc.log("获取排行榜数据。"+a.MAIN_MENU_NUM)},shareButtonFunc:function(e){o.playSimpleAudioEngine(4),setTimeout(function(){o.sharePicture("shareTicket")},100)},backButtonFunc:function(e){o.playSimpleAudioEngine(0),this.node.destroy()},_updateSubDomainCanvas:function(){0},update:function(){this._updateSubDomainCanvas()}}),cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools"}],ShowMessage:[function(e,t,r){"use strict";cc._RF.push(t,"38b70CDgDNDRrOc8pj7+Z2r","ShowMessage");e("GameConfig"),e("GameTools"),e("GameUiTools");cc.Class({extends:cc.Component,properties:{messageLabel:cc.Label,toastType:0},start:function(){this.node.runAction(cc.sequence(cc.fadeIn(.5),cc.delayTime(1),cc.fadeOut(.5),cc.removeSelf()))},setMessage:function(e){this.toastType=e;var t=this.toastType;0==this.toastType?t="一个群一天只能分享一次":1==this.toastType?t="要分享到群才可以接着玩":2==this.toastType?t="要分享到群才可以免费获得":3==this.toastType?t="暂无视频广告观看":4==this.toastType?t="积分不足，无法复活。":5==this.toastType?t="共享您获得一个道具。":6==this.toastType&&(t="该功能未开发。"),this.messageLabel.string=t}}),cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools"}]},{},["AnimLayerTool","CardSprite","GameConfig","GameData","GamePopStar","GameScene","GameTools","GameUiTools","LoadingScene","MenuUI","AnimInAndOut","GameConnectUs","GameHelp","GameOver","GamePass","GamePropBox","GamePropHelp","GamePropNode","RankingListView","ShowMessage"]);